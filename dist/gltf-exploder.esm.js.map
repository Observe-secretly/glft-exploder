{"version":3,"file":"gltf-exploder.esm.js","sources":["../node_modules/three/examples/jsm/controls/ArcballControls.js","../src/core/types.ts","../node_modules/style-inject/dist/style-inject.es.js","../src/core/utils.ts","../src/core/index.ts","../src/core/InteractionManager.ts","../src/ui/LiquidGlass.ts","../src/ui/ExploderPanel.ts","../src/ui/styles.ts","../src/ui/ExploderHUD.ts","../src/ui/ExploderInfoHUD.ts","../src/core/Octree.ts","../src/core/MeasurementTypes.ts","../src/core/SnapDetector.ts","../src/core/MeasurementFormatter.ts","../src/core/MeasurementTool.ts","../src/ui/ExploderMeasurement.ts","../src/ui/index.ts","../src/ui/ExploderZoomControls.ts","../src/ui/ExploderContextMenu.ts","../src/index.ts"],"sourcesContent":["import {\n\tControls,\n\tGridHelper,\n\tEllipseCurve,\n\tBufferGeometry,\n\tLine,\n\tLineBasicMaterial,\n\tRaycaster,\n\tGroup,\n\tBox3,\n\tSphere,\n\tQuaternion,\n\tVector2,\n\tVector3,\n\tMatrix4,\n\tMathUtils\n} from 'three';\n\n//trackball state\nconst STATE = {\n\n\tIDLE: Symbol(),\n\tROTATE: Symbol(),\n\tPAN: Symbol(),\n\tSCALE: Symbol(),\n\tFOV: Symbol(),\n\tFOCUS: Symbol(),\n\tZROTATE: Symbol(),\n\tTOUCH_MULTI: Symbol(),\n\tANIMATION_FOCUS: Symbol(),\n\tANIMATION_ROTATE: Symbol()\n\n};\n\nconst INPUT = {\n\n\tNONE: Symbol(),\n\tONE_FINGER: Symbol(),\n\tONE_FINGER_SWITCHED: Symbol(),\n\tTWO_FINGER: Symbol(),\n\tMULT_FINGER: Symbol(),\n\tCURSOR: Symbol()\n\n};\n\n//cursor center coordinates\nconst _center = {\n\n\tx: 0,\n\ty: 0\n\n};\n\n//transformation matrices for gizmos and camera\nconst _transformation = {\n\n\tcamera: new Matrix4(),\n\tgizmos: new Matrix4()\n\n};\n\n/**\n * Fires when the camera has been transformed by the controls.\n *\n * @event ArcballControls#change\n * @type {Object}\n */\nconst _changeEvent = { type: 'change' };\n\n/**\n * Fires when an interaction was initiated.\n *\n * @event ArcballControls#start\n * @type {Object}\n */\nconst _startEvent = { type: 'start' };\n\n/**\n * Fires when an interaction has finished.\n *\n * @event ArcballControls#end\n * @type {Object}\n */\nconst _endEvent = { type: 'end' };\n\nconst _raycaster = new Raycaster();\nconst _offset = new Vector3();\n\nconst _gizmoMatrixStateTemp = new Matrix4();\nconst _cameraMatrixStateTemp = new Matrix4();\nconst _scalePointTemp = new Vector3();\n\nconst _EPS = 0.000001;\n\n/**\n * Arcball controls allow the camera to be controlled by a virtual trackball with full touch support and advanced navigation functionality.\n * Cursor/finger positions and movements are mapped over a virtual trackball surface represented by a gizmo and mapped in intuitive and\n * consistent camera movements. Dragging cursor/fingers will cause camera to orbit around the center of the trackball in a conservative\n * way (returning to the starting point will make the camera return to its starting orientation).\n *\n * In addition to supporting pan, zoom and pinch gestures, Arcball controls provide focus< functionality with a double click/tap for intuitively\n * moving the object's point of interest in the center of the virtual trackball. Focus allows a much better inspection and navigation in complex\n * environment. Moreover Arcball controls allow FOV manipulation (in a vertigo-style method) and z-rotation. Saving and restoring of Camera State\n * is supported also through clipboard (use ctrl+c and ctrl+v shortcuts for copy and paste the state).\n *\n * Unlike {@link OrbitControls} and {@link TrackballControls}, `ArcballControls` doesn't require `update()` to be called externally in an\n * animation loop when animations are on.\n *\n * @augments Controls\n * @three_import import { ArcballControls } from 'three/addons/controls/ArcballControls.js';\n */\nclass ArcballControls extends Controls {\n\n\t/**\n\t * Constructs a new controls instance.\n\t *\n\t * @param {Camera} camera - The camera to be controlled. The camera must not be a child of another object, unless that object is the scene itself.\n\t * @param {?HTMLElement} [domElement=null] - The HTML element used for event listeners.\n\t * @param {?Scene} [scene=null] The scene rendered by the camera. If not given, gizmos cannot be shown.\n\t */\n\tconstructor( camera, domElement = null, scene = null ) {\n\n\t\tsuper( camera, domElement );\n\n\t\t/**\n\t\t * The scene rendered by the camera. If not given, gizmos cannot be shown.\n\t\t *\n\t\t * @type {?Scene}\n\t\t * @default null\n\t\t */\n\t\tthis.scene = scene;\n\n\t\t/**\n\t\t * The control's focus point.\n\t\t *\n\t\t * @type {Vector3}\n\t\t */\n\t\tthis.target = new Vector3();\n\t\tthis._currentTarget = new Vector3();\n\n\t\t/**\n\t\t * The size of the gizmo relative to the screen width and height.\n\t\t *\n\t\t * @type {number}\n\t\t * @default 0.67\n\t\t */\n\t\tthis.radiusFactor = 0.67;\n\n\t\t/**\n\t\t * Holds the mouse actions of this controls. This property is maintained by the methods\n\t\t * `setMouseAction()` and `unsetMouseAction()`.\n\t\t *\n\t\t * @type {Array<Object>}\n\t\t */\n\t\tthis.mouseActions = [];\n\t\tthis._mouseOp = null;\n\n\n\t\t//global vectors and matrices that are used in some operations to avoid creating new objects every time (e.g. every time cursor moves)\n\t\tthis._v2_1 = new Vector2();\n\t\tthis._v3_1 = new Vector3();\n\t\tthis._v3_2 = new Vector3();\n\n\t\tthis._m4_1 = new Matrix4();\n\t\tthis._m4_2 = new Matrix4();\n\n\t\tthis._quat = new Quaternion();\n\n\t\t//transformation matrices\n\t\tthis._translationMatrix = new Matrix4(); //matrix for translation operation\n\t\tthis._rotationMatrix = new Matrix4(); //matrix for rotation operation\n\t\tthis._scaleMatrix = new Matrix4(); //matrix for scaling operation\n\n\t\tthis._rotationAxis = new Vector3(); //axis for rotate operation\n\n\n\t\t//camera state\n\t\tthis._cameraMatrixState = new Matrix4();\n\t\tthis._cameraProjectionState = new Matrix4();\n\n\t\tthis._fovState = 1;\n\t\tthis._upState = new Vector3();\n\t\tthis._zoomState = 1;\n\t\tthis._nearPos = 0;\n\t\tthis._farPos = 0;\n\n\t\tthis._gizmoMatrixState = new Matrix4();\n\n\t\t//initial values\n\t\tthis._up0 = new Vector3();\n\t\tthis._zoom0 = 1;\n\t\tthis._fov0 = 0;\n\t\tthis._initialNear = 0;\n\t\tthis._nearPos0 = 0;\n\t\tthis._initialFar = 0;\n\t\tthis._farPos0 = 0;\n\t\tthis._cameraMatrixState0 = new Matrix4();\n\t\tthis._gizmoMatrixState0 = new Matrix4();\n\t\tthis._target0 = new Vector3();\n\n\t\t//pointers array\n\t\tthis._button = - 1;\n\t\tthis._touchStart = [];\n\t\tthis._touchCurrent = [];\n\t\tthis._input = INPUT.NONE;\n\n\t\t//two fingers touch interaction\n\t\tthis._switchSensibility = 32;\t//minimum movement to be performed to fire single pan start after the second finger has been released\n\t\tthis._startFingerDistance = 0; //distance between two fingers\n\t\tthis._currentFingerDistance = 0;\n\t\tthis._startFingerRotation = 0; //amount of rotation performed with two fingers\n\t\tthis._currentFingerRotation = 0;\n\n\t\t//double tap\n\t\tthis._devPxRatio = 0;\n\t\tthis._downValid = true;\n\t\tthis._nclicks = 0;\n\t\tthis._downEvents = [];\n\t\tthis._downStart = 0;\t//pointerDown time\n\t\tthis._clickStart = 0;\t//first click time\n\t\tthis._maxDownTime = 250;\n\t\tthis._maxInterval = 300;\n\t\tthis._posThreshold = 24;\n\t\tthis._movementThreshold = 24;\n\n\t\t//cursor positions\n\t\tthis._currentCursorPosition = new Vector3();\n\t\tthis._startCursorPosition = new Vector3();\n\n\t\t//grid\n\t\tthis._grid = null; //grid to be visualized during pan operation\n\t\tthis._gridPosition = new Vector3();\n\n\t\t//gizmos\n\t\tthis._gizmos = new Group();\n\t\tthis._curvePts = 128;\n\n\n\t\t//animations\n\t\tthis._timeStart = - 1; //initial time\n\t\tthis._animationId = - 1;\n\n\t\t/**\n\t\t * Duration of focus animations in ms.\n\t\t *\n\t\t * @type {number}\n\t\t * @default 500\n\t\t */\n\t\tthis.focusAnimationTime = 500;\n\n\t\t//rotate animation\n\t\tthis._timePrev = 0; //time at which previous rotate operation has been detected\n\t\tthis._timeCurrent = 0; //time at which current rotate operation has been detected\n\t\tthis._anglePrev = 0; //angle of previous rotation\n\t\tthis._angleCurrent = 0; //angle of current rotation\n\t\tthis._cursorPosPrev = new Vector3();\t//cursor position when previous rotate operation has been detected\n\t\tthis._cursorPosCurr = new Vector3();//cursor position when current rotate operation has been detected\n\t\tthis._wPrev = 0; //angular velocity of the previous rotate operation\n\t\tthis._wCurr = 0; //angular velocity of the current rotate operation\n\n\t\t//parameters\n\n\t\t/**\n\t\t * If set to `true`, the camera's near and far values will be adjusted every time zoom is\n\t\t * performed trying to maintain the same visible portion given by initial near and far\n\t\t * values. Only works with perspective cameras.\n\t\t *\n\t\t * @type {boolean}\n\t\t * @default false\n\t\t */\n\t\tthis.adjustNearFar = false;\n\n\t\t/**\n\t\t * The scaling factor used when performing zoom operation.\n\t\t *\n\t\t * @type {number}\n\t\t * @default 1.1\n\t\t */\n\t\tthis.scaleFactor = 1.1;\n\n\t\t/**\n\t\t * The damping inertia used if 'enableAnimations` is set to `true`.\n\t\t *\n\t\t * @type {number}\n\t\t * @default 25\n\t\t */\n\t\tthis.dampingFactor = 25;\n\n\t\t/**\n\t\t * Maximum angular velocity allowed on rotation animation start.\n\t\t *\n\t\t * @type {number}\n\t\t * @default 20\n\t\t */\n\t\tthis.wMax = 20;\n\n\t\t/**\n\t\t * Set to `true` to enable animations for rotation (damping) and focus operation.\n\t\t *\n\t\t * @type {boolean}\n\t\t * @default true\n\t\t */\n\t\tthis.enableAnimations = true;\n\n\t\t/**\n\t\t * If set to `true`, a grid will appear when panning operation is being performed\n\t\t * (desktop interaction only).\n\t\t *\n\t\t * @type {boolean}\n\t\t * @default false\n\t\t */\n\t\tthis.enableGrid = false;\n\n\t\t/**\n\t\t * Set to `true` to make zoom become cursor centered.\n\t\t *\n\t\t * @type {boolean}\n\t\t * @default false\n\t\t */\n\t\tthis.cursorZoom = false;\n\n\t\t/**\n\t\t * The minimum FOV in degrees.\n\t\t *\n\t\t * @type {number}\n\t\t * @default 5\n\t\t */\n\t\tthis.minFov = 5;\n\n\t\t/**\n\t\t * The maximum FOV in degrees.\n\t\t *\n\t\t * @type {number}\n\t\t * @default 90\n\t\t */\n\t\tthis.maxFov = 90;\n\n\t\t/**\n\t\t * Speed of rotation.\n\t\t *\n\t\t * @type {number}\n\t\t * @default 1\n\t\t */\n\t\tthis.rotateSpeed = 1;\n\n\t\t/**\n\t\t * Enable or disable camera panning.\n\t\t *\n\t\t * @type {boolean}\n\t\t * @default true\n\t\t */\n\t\tthis.enablePan = true;\n\n\t\t/**\n\t\t * Enable or disable camera rotation.\n\t\t *\n\t\t * @type {boolean}\n\t\t * @default true\n\t\t */\n\t\tthis.enableRotate = true;\n\n\t\t/**\n\t\t * Enable or disable camera zoom.\n\t\t *\n\t\t * @type {boolean}\n\t\t * @default true\n\t\t */\n\t\tthis.enableZoom = true;\n\n\t\t/**\n\t\t * Enable or disable gizmos.\n\t\t *\n\t\t * @type {boolean}\n\t\t * @default true\n\t\t */\n\t\tthis.enableGizmos = true;\n\n\t\t/**\n\t\t * Enable or disable camera focusing on double-tap (or click) operations.\n\t\t *\n\t\t * @type {boolean}\n\t\t * @default true\n\t\t */\n\t\tthis.enableFocus = true;\n\n\t\t/**\n\t\t * How far you can dolly in. For perspective cameras only.\n\t\t *\n\t\t * @type {number}\n\t\t * @default 0\n\t\t */\n\t\tthis.minDistance = 0;\n\n\t\t/**\n\t\t * How far you can dolly out. For perspective cameras only.\n\t\t *\n\t\t * @type {number}\n\t\t * @default Infinity\n\t\t */\n\t\tthis.maxDistance = Infinity;\n\n\t\t/**\n\t\t * How far you can zoom in. For orthographic cameras only.\n\t\t *\n\t\t * @type {number}\n\t\t * @default 0\n\t\t */\n\t\tthis.minZoom = 0;\n\n\t\t/**\n\t\t * How far you can zoom out. For orthographic cameras only.\n\t\t *\n\t\t * @type {number}\n\t\t * @default Infinity\n\t\t */\n\t\tthis.maxZoom = Infinity;\n\n\t\t//trackball parameters\n\t\tthis._tbRadius = 1;\n\n\t\t//FSA\n\t\tthis._state = STATE.IDLE;\n\n\t\tthis.setCamera( camera );\n\n\t\tif ( this.scene != null ) {\n\n\t\t\tthis.scene.add( this._gizmos );\n\n\t\t}\n\n\t\tthis.initializeMouseActions();\n\n\t\t// event listeners\n\n\t\tthis._onContextMenu = onContextMenu.bind( this );\n\t\tthis._onWheel = onWheel.bind( this );\n\t\tthis._onPointerUp = onPointerUp.bind( this );\n\t\tthis._onPointerMove = onPointerMove.bind( this );\n\t\tthis._onPointerDown = onPointerDown.bind( this );\n\t\tthis._onPointerCancel = onPointerCancel.bind( this );\n\t\tthis._onWindowResize = onWindowResize.bind( this );\n\n\t\tif ( domElement !== null ) {\n\n\t\t\tthis.connect( domElement );\n\n\t\t}\n\n\t}\n\n\tconnect( element ) {\n\n\t\tsuper.connect( element );\n\n\t\tthis.domElement.style.touchAction = 'none';\n\t\tthis._devPxRatio = window.devicePixelRatio;\n\n\t\tthis.domElement.addEventListener( 'contextmenu', this._onContextMenu );\n\t\tthis.domElement.addEventListener( 'wheel', this._onWheel, { passive: false } );\n\t\tthis.domElement.addEventListener( 'pointerdown', this._onPointerDown );\n\t\tthis.domElement.addEventListener( 'pointercancel', this._onPointerCancel );\n\n\t\twindow.addEventListener( 'resize', this._onWindowResize );\n\n\t}\n\n\tdisconnect() {\n\n\t\tthis.domElement.removeEventListener( 'pointerdown', this._onPointerDown );\n\t\tthis.domElement.removeEventListener( 'pointercancel', this._onPointerCancel );\n\t\tthis.domElement.removeEventListener( 'wheel', this._onWheel );\n\t\tthis.domElement.removeEventListener( 'contextmenu', this._onContextMenu );\n\n\t\twindow.removeEventListener( 'pointermove', this._onPointerMove );\n\t\twindow.removeEventListener( 'pointerup', this._onPointerUp );\n\n\t\twindow.removeEventListener( 'resize', this._onWindowResize );\n\n\t}\n\n\tonSinglePanStart( event, operation ) {\n\n\t\tif ( this.enabled ) {\n\n\t\t\tthis.dispatchEvent( _startEvent );\n\n\t\t\tthis.setCenter( event.clientX, event.clientY );\n\n\t\t\tswitch ( operation ) {\n\n\t\t\t\tcase 'PAN':\n\n\t\t\t\t\tif ( ! this.enablePan ) {\n\n\t\t\t\t\t\treturn;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( this._animationId != - 1 ) {\n\n\t\t\t\t\t\tcancelAnimationFrame( this._animationId );\n\t\t\t\t\t\tthis._animationId = - 1;\n\t\t\t\t\t\tthis._timeStart = - 1;\n\n\t\t\t\t\t\tthis.activateGizmos( false );\n\t\t\t\t\t\tthis.dispatchEvent( _changeEvent );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tthis.updateTbState( STATE.PAN, true );\n\t\t\t\t\tthis._startCursorPosition.copy( this.unprojectOnTbPlane( this.object, _center.x, _center.y, this.domElement ) );\n\t\t\t\t\tif ( this.enableGrid ) {\n\n\t\t\t\t\t\tthis.drawGrid();\n\t\t\t\t\t\tthis.dispatchEvent( _changeEvent );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'ROTATE':\n\n\t\t\t\t\tif ( ! this.enableRotate ) {\n\n\t\t\t\t\t\treturn;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( this._animationId != - 1 ) {\n\n\t\t\t\t\t\tcancelAnimationFrame( this._animationId );\n\t\t\t\t\t\tthis._animationId = - 1;\n\t\t\t\t\t\tthis._timeStart = - 1;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tthis.updateTbState( STATE.ROTATE, true );\n\t\t\t\t\tthis._startCursorPosition.copy( this.unprojectOnTbSurface( this.object, _center.x, _center.y, this.domElement, this._tbRadius ) );\n\t\t\t\t\tthis.activateGizmos( true );\n\t\t\t\t\tif ( this.enableAnimations ) {\n\n\t\t\t\t\t\tthis._timePrev = this._timeCurrent = performance.now();\n\t\t\t\t\t\tthis._angleCurrent = this._anglePrev = 0;\n\t\t\t\t\t\tthis._cursorPosPrev.copy( this._startCursorPosition );\n\t\t\t\t\t\tthis._cursorPosCurr.copy( this._cursorPosPrev );\n\t\t\t\t\t\tthis._wCurr = 0;\n\t\t\t\t\t\tthis._wPrev = this._wCurr;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tthis.dispatchEvent( _changeEvent );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'FOV':\n\n\t\t\t\t\tif ( ! this.object.isPerspectiveCamera || ! this.enableZoom ) {\n\n\t\t\t\t\t\treturn;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( this._animationId != - 1 ) {\n\n\t\t\t\t\t\tcancelAnimationFrame( this._animationId );\n\t\t\t\t\t\tthis._animationId = - 1;\n\t\t\t\t\t\tthis._timeStart = - 1;\n\n\t\t\t\t\t\tthis.activateGizmos( false );\n\t\t\t\t\t\tthis.dispatchEvent( _changeEvent );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tthis.updateTbState( STATE.FOV, true );\n\t\t\t\t\tthis._startCursorPosition.setY( this.getCursorNDC( _center.x, _center.y, this.domElement ).y * 0.5 );\n\t\t\t\t\tthis._currentCursorPosition.copy( this._startCursorPosition );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'ZOOM':\n\n\t\t\t\t\tif ( ! this.enableZoom ) {\n\n\t\t\t\t\t\treturn;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( this._animationId != - 1 ) {\n\n\t\t\t\t\t\tcancelAnimationFrame( this._animationId );\n\t\t\t\t\t\tthis._animationId = - 1;\n\t\t\t\t\t\tthis._timeStart = - 1;\n\n\t\t\t\t\t\tthis.activateGizmos( false );\n\t\t\t\t\t\tthis.dispatchEvent( _changeEvent );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tthis.updateTbState( STATE.SCALE, true );\n\t\t\t\t\tthis._startCursorPosition.setY( this.getCursorNDC( _center.x, _center.y, this.domElement ).y * 0.5 );\n\t\t\t\t\tthis._currentCursorPosition.copy( this._startCursorPosition );\n\t\t\t\t\tbreak;\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\tonSinglePanMove( event, opState ) {\n\n\t\tif ( this.enabled ) {\n\n\t\t\tconst restart = opState != this._state;\n\t\t\tthis.setCenter( event.clientX, event.clientY );\n\n\t\t\tswitch ( opState ) {\n\n\t\t\t\tcase STATE.PAN:\n\n\t\t\t\t\tif ( this.enablePan ) {\n\n\t\t\t\t\t\tif ( restart ) {\n\n\t\t\t\t\t\t\t//switch to pan operation\n\n\t\t\t\t\t\t\tthis.dispatchEvent( _endEvent );\n\t\t\t\t\t\t\tthis.dispatchEvent( _startEvent );\n\n\t\t\t\t\t\t\tthis.updateTbState( opState, true );\n\t\t\t\t\t\t\tthis._startCursorPosition.copy( this.unprojectOnTbPlane( this.object, _center.x, _center.y, this.domElement ) );\n\t\t\t\t\t\t\tif ( this.enableGrid ) {\n\n\t\t\t\t\t\t\t\tthis.drawGrid();\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tthis.activateGizmos( false );\n\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t//continue with pan operation\n\t\t\t\t\t\t\tthis._currentCursorPosition.copy( this.unprojectOnTbPlane( this.object, _center.x, _center.y, this.domElement ) );\n\t\t\t\t\t\t\tthis.applyTransformMatrix( this.pan( this._startCursorPosition, this._currentCursorPosition ) );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase STATE.ROTATE:\n\n\t\t\t\t\tif ( this.enableRotate ) {\n\n\t\t\t\t\t\tif ( restart ) {\n\n\t\t\t\t\t\t\t//switch to rotate operation\n\n\t\t\t\t\t\t\tthis.dispatchEvent( _endEvent );\n\t\t\t\t\t\t\tthis.dispatchEvent( _startEvent );\n\n\t\t\t\t\t\t\tthis.updateTbState( opState, true );\n\t\t\t\t\t\t\tthis._startCursorPosition.copy( this.unprojectOnTbSurface( this.object, _center.x, _center.y, this.domElement, this._tbRadius ) );\n\n\t\t\t\t\t\t\tif ( this.enableGrid ) {\n\n\t\t\t\t\t\t\t\tthis.disposeGrid();\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tthis.activateGizmos( true );\n\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t//continue with rotate operation\n\t\t\t\t\t\t\tthis._currentCursorPosition.copy( this.unprojectOnTbSurface( this.object, _center.x, _center.y, this.domElement, this._tbRadius ) );\n\n\t\t\t\t\t\t\tconst distance = this._startCursorPosition.distanceTo( this._currentCursorPosition );\n\t\t\t\t\t\t\tconst angle = this._startCursorPosition.angleTo( this._currentCursorPosition );\n\t\t\t\t\t\t\tconst amount = Math.max( distance / this._tbRadius, angle ) * this.rotateSpeed; //effective rotation angle\n\n\t\t\t\t\t\t\tthis.applyTransformMatrix( this.rotate( this.calculateRotationAxis( this._startCursorPosition, this._currentCursorPosition ), amount ) );\n\n\t\t\t\t\t\t\tif ( this.enableAnimations ) {\n\n\t\t\t\t\t\t\t\tthis._timePrev = this._timeCurrent;\n\t\t\t\t\t\t\t\tthis._timeCurrent = performance.now();\n\t\t\t\t\t\t\t\tthis._anglePrev = this._angleCurrent;\n\t\t\t\t\t\t\t\tthis._angleCurrent = amount;\n\t\t\t\t\t\t\t\tthis._cursorPosPrev.copy( this._cursorPosCurr );\n\t\t\t\t\t\t\t\tthis._cursorPosCurr.copy( this._currentCursorPosition );\n\t\t\t\t\t\t\t\tthis._wPrev = this._wCurr;\n\t\t\t\t\t\t\t\tthis._wCurr = this.calculateAngularSpeed( this._anglePrev, this._angleCurrent, this._timePrev, this._timeCurrent );\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase STATE.SCALE:\n\n\t\t\t\t\tif ( this.enableZoom ) {\n\n\t\t\t\t\t\tif ( restart ) {\n\n\t\t\t\t\t\t\t//switch to zoom operation\n\n\t\t\t\t\t\t\tthis.dispatchEvent( _endEvent );\n\t\t\t\t\t\t\tthis.dispatchEvent( _startEvent );\n\n\t\t\t\t\t\t\tthis.updateTbState( opState, true );\n\t\t\t\t\t\t\tthis._startCursorPosition.setY( this.getCursorNDC( _center.x, _center.y, this.domElement ).y * 0.5 );\n\t\t\t\t\t\t\tthis._currentCursorPosition.copy( this._startCursorPosition );\n\n\t\t\t\t\t\t\tif ( this.enableGrid ) {\n\n\t\t\t\t\t\t\t\tthis.disposeGrid();\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tthis.activateGizmos( false );\n\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t//continue with zoom operation\n\t\t\t\t\t\t\tconst screenNotches = 8;\t//how many wheel notches corresponds to a full screen pan\n\t\t\t\t\t\t\tthis._currentCursorPosition.setY( this.getCursorNDC( _center.x, _center.y, this.domElement ).y * 0.5 );\n\n\t\t\t\t\t\t\tconst movement = this._currentCursorPosition.y - this._startCursorPosition.y;\n\n\t\t\t\t\t\t\tlet size = 1;\n\n\t\t\t\t\t\t\tif ( movement < 0 ) {\n\n\t\t\t\t\t\t\t\tsize = 1 / ( Math.pow( this.scaleFactor, - movement * screenNotches ) );\n\n\t\t\t\t\t\t\t} else if ( movement > 0 ) {\n\n\t\t\t\t\t\t\t\tsize = Math.pow( this.scaleFactor, movement * screenNotches );\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tthis._v3_1.setFromMatrixPosition( this._gizmoMatrixState );\n\n\t\t\t\t\t\t\tthis.applyTransformMatrix( this.scale( size, this._v3_1 ) );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase STATE.FOV:\n\n\t\t\t\t\tif ( this.enableZoom && this.object.isPerspectiveCamera ) {\n\n\t\t\t\t\t\tif ( restart ) {\n\n\t\t\t\t\t\t\t//switch to fov operation\n\n\t\t\t\t\t\t\tthis.dispatchEvent( _endEvent );\n\t\t\t\t\t\t\tthis.dispatchEvent( _startEvent );\n\n\t\t\t\t\t\t\tthis.updateTbState( opState, true );\n\t\t\t\t\t\t\tthis._startCursorPosition.setY( this.getCursorNDC( _center.x, _center.y, this.domElement ).y * 0.5 );\n\t\t\t\t\t\t\tthis._currentCursorPosition.copy( this._startCursorPosition );\n\n\t\t\t\t\t\t\tif ( this.enableGrid ) {\n\n\t\t\t\t\t\t\t\tthis.disposeGrid();\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tthis.activateGizmos( false );\n\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t//continue with fov operation\n\t\t\t\t\t\t\tconst screenNotches = 8;\t//how many wheel notches corresponds to a full screen pan\n\t\t\t\t\t\t\tthis._currentCursorPosition.setY( this.getCursorNDC( _center.x, _center.y, this.domElement ).y * 0.5 );\n\n\t\t\t\t\t\t\tconst movement = this._currentCursorPosition.y - this._startCursorPosition.y;\n\n\t\t\t\t\t\t\tlet size = 1;\n\n\t\t\t\t\t\t\tif ( movement < 0 ) {\n\n\t\t\t\t\t\t\t\tsize = 1 / ( Math.pow( this.scaleFactor, - movement * screenNotches ) );\n\n\t\t\t\t\t\t\t} else if ( movement > 0 ) {\n\n\t\t\t\t\t\t\t\tsize = Math.pow( this.scaleFactor, movement * screenNotches );\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tthis._v3_1.setFromMatrixPosition( this._cameraMatrixState );\n\t\t\t\t\t\t\tconst x = this._v3_1.distanceTo( this._gizmos.position );\n\t\t\t\t\t\t\tlet xNew = x / size; //distance between camera and gizmos if scale(size, scalepoint) would be performed\n\n\t\t\t\t\t\t\t//check min and max distance\n\t\t\t\t\t\t\txNew = MathUtils.clamp( xNew, this.minDistance, this.maxDistance );\n\n\t\t\t\t\t\t\tconst y = x * Math.tan( MathUtils.DEG2RAD * this._fovState * 0.5 );\n\n\t\t\t\t\t\t\t//calculate new fov\n\t\t\t\t\t\t\tlet newFov = MathUtils.RAD2DEG * ( Math.atan( y / xNew ) * 2 );\n\n\t\t\t\t\t\t\t//check min and max fov\n\t\t\t\t\t\t\tnewFov = MathUtils.clamp( newFov, this.minFov, this.maxFov );\n\n\t\t\t\t\t\t\tconst newDistance = y / Math.tan( MathUtils.DEG2RAD * ( newFov / 2 ) );\n\t\t\t\t\t\t\tsize = x / newDistance;\n\t\t\t\t\t\t\tthis._v3_2.setFromMatrixPosition( this._gizmoMatrixState );\n\n\t\t\t\t\t\t\tthis.setFov( newFov );\n\t\t\t\t\t\t\tthis.applyTransformMatrix( this.scale( size, this._v3_2, false ) );\n\n\t\t\t\t\t\t\t//adjusting distance\n\t\t\t\t\t\t\t_offset.copy( this._gizmos.position ).sub( this.object.position ).normalize().multiplyScalar( newDistance / x );\n\t\t\t\t\t\t\tthis._m4_1.makeTranslation( _offset.x, _offset.y, _offset.z );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak;\n\n\t\t\t}\n\n\t\t\tthis.dispatchEvent( _changeEvent );\n\n\t\t}\n\n\t}\n\n\tonSinglePanEnd() {\n\n\t\tif ( this._state == STATE.ROTATE ) {\n\n\n\t\t\tif ( ! this.enableRotate ) {\n\n\t\t\t\treturn;\n\n\t\t\t}\n\n\t\t\tif ( this.enableAnimations ) {\n\n\t\t\t\t//perform rotation animation\n\t\t\t\tconst deltaTime = ( performance.now() - this._timeCurrent );\n\t\t\t\tif ( deltaTime < 120 ) {\n\n\t\t\t\t\tconst w = Math.abs( ( this._wPrev + this._wCurr ) / 2 );\n\n\t\t\t\t\tconst self = this;\n\t\t\t\t\tthis._animationId = window.requestAnimationFrame( function ( t ) {\n\n\t\t\t\t\t\tself.updateTbState( STATE.ANIMATION_ROTATE, true );\n\t\t\t\t\t\tconst rotationAxis = self.calculateRotationAxis( self._cursorPosPrev, self._cursorPosCurr );\n\n\t\t\t\t\t\tself.onRotationAnim( t, rotationAxis, Math.min( w, self.wMax ) );\n\n\t\t\t\t\t} );\n\n\t\t\t\t} else {\n\n\t\t\t\t\t//cursor has been standing still for over 120 ms since last movement\n\t\t\t\t\tthis.updateTbState( STATE.IDLE, false );\n\t\t\t\t\tthis.activateGizmos( false );\n\t\t\t\t\tthis.dispatchEvent( _changeEvent );\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\tthis.updateTbState( STATE.IDLE, false );\n\t\t\t\tthis.activateGizmos( false );\n\t\t\t\tthis.dispatchEvent( _changeEvent );\n\n\t\t\t}\n\n\t\t} else if ( this._state == STATE.PAN || this._state == STATE.IDLE ) {\n\n\t\t\tthis.updateTbState( STATE.IDLE, false );\n\n\t\t\tif ( this.enableGrid ) {\n\n\t\t\t\tthis.disposeGrid();\n\n\t\t\t}\n\n\t\t\tthis.activateGizmos( false );\n\t\t\tthis.dispatchEvent( _changeEvent );\n\n\n\t\t}\n\n\t\tthis.dispatchEvent( _endEvent );\n\n\t}\n\n\tonDoubleTap( event ) {\n\n\t\tif ( this.enabled && this.enablePan && this.enableFocus && this.scene != null ) {\n\n\t\t\tthis.dispatchEvent( _startEvent );\n\n\t\t\tthis.setCenter( event.clientX, event.clientY );\n\t\t\tconst hitP = this.unprojectOnObj( this.getCursorNDC( _center.x, _center.y, this.domElement ), this.object );\n\n\t\t\tif ( hitP != null && this.enableAnimations ) {\n\n\t\t\t\tconst self = this;\n\t\t\t\tif ( this._animationId != - 1 ) {\n\n\t\t\t\t\twindow.cancelAnimationFrame( this._animationId );\n\n\t\t\t\t}\n\n\t\t\t\tthis._timeStart = - 1;\n\t\t\t\tthis._animationId = window.requestAnimationFrame( function ( t ) {\n\n\t\t\t\t\tself.updateTbState( STATE.ANIMATION_FOCUS, true );\n\t\t\t\t\tself.onFocusAnim( t, hitP, self._cameraMatrixState, self._gizmoMatrixState );\n\n\t\t\t\t} );\n\n\t\t\t} else if ( hitP != null && ! this.enableAnimations ) {\n\n\t\t\t\tthis.updateTbState( STATE.FOCUS, true );\n\t\t\t\tthis.focus( hitP, this.scaleFactor );\n\t\t\t\tthis.updateTbState( STATE.IDLE, false );\n\t\t\t\tthis.dispatchEvent( _changeEvent );\n\n\t\t\t}\n\n\t\t}\n\n\t\tthis.dispatchEvent( _endEvent );\n\n\t}\n\n\tonDoublePanStart() {\n\n\t\tif ( this.enabled && this.enablePan ) {\n\n\t\t\tthis.dispatchEvent( _startEvent );\n\n\t\t\tthis.updateTbState( STATE.PAN, true );\n\n\t\t\tthis.setCenter( ( this._touchCurrent[ 0 ].clientX + this._touchCurrent[ 1 ].clientX ) / 2, ( this._touchCurrent[ 0 ].clientY + this._touchCurrent[ 1 ].clientY ) / 2 );\n\t\t\tthis._startCursorPosition.copy( this.unprojectOnTbPlane( this.object, _center.x, _center.y, this.domElement, true ) );\n\t\t\tthis._currentCursorPosition.copy( this._startCursorPosition );\n\n\t\t\tthis.activateGizmos( false );\n\n\t\t}\n\n\t}\n\n\tonDoublePanMove() {\n\n\t\tif ( this.enabled && this.enablePan ) {\n\n\t\t\tthis.setCenter( ( this._touchCurrent[ 0 ].clientX + this._touchCurrent[ 1 ].clientX ) / 2, ( this._touchCurrent[ 0 ].clientY + this._touchCurrent[ 1 ].clientY ) / 2 );\n\n\t\t\tif ( this._state != STATE.PAN ) {\n\n\t\t\t\tthis.updateTbState( STATE.PAN, true );\n\t\t\t\tthis._startCursorPosition.copy( this._currentCursorPosition );\n\n\t\t\t}\n\n\t\t\tthis._currentCursorPosition.copy( this.unprojectOnTbPlane( this.object, _center.x, _center.y, this.domElement, true ) );\n\t\t\tthis.applyTransformMatrix( this.pan( this._startCursorPosition, this._currentCursorPosition, true ) );\n\t\t\tthis.dispatchEvent( _changeEvent );\n\n\t\t}\n\n\t}\n\n\tonDoublePanEnd() {\n\n\t\tthis.updateTbState( STATE.IDLE, false );\n\t\tthis.dispatchEvent( _endEvent );\n\n\t}\n\n\tonRotateStart() {\n\n\t\tif ( this.enabled && this.enableRotate ) {\n\n\t\t\tthis.dispatchEvent( _startEvent );\n\n\t\t\tthis.updateTbState( STATE.ZROTATE, true );\n\n\t\t\t//this._startFingerRotation = event.rotation;\n\n\t\t\tthis._startFingerRotation = this.getAngle( this._touchCurrent[ 1 ], this._touchCurrent[ 0 ] ) + this.getAngle( this._touchStart[ 1 ], this._touchStart[ 0 ] );\n\t\t\tthis._currentFingerRotation = this._startFingerRotation;\n\n\t\t\tthis.object.getWorldDirection( this._rotationAxis ); //rotation axis\n\n\t\t\tif ( ! this.enablePan && ! this.enableZoom ) {\n\n\t\t\t\tthis.activateGizmos( true );\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\tonRotateMove() {\n\n\t\tif ( this.enabled && this.enableRotate ) {\n\n\t\t\tthis.setCenter( ( this._touchCurrent[ 0 ].clientX + this._touchCurrent[ 1 ].clientX ) / 2, ( this._touchCurrent[ 0 ].clientY + this._touchCurrent[ 1 ].clientY ) / 2 );\n\t\t\tlet rotationPoint;\n\n\t\t\tif ( this._state != STATE.ZROTATE ) {\n\n\t\t\t\tthis.updateTbState( STATE.ZROTATE, true );\n\t\t\t\tthis._startFingerRotation = this._currentFingerRotation;\n\n\t\t\t}\n\n\t\t\t//this._currentFingerRotation = event.rotation;\n\t\t\tthis._currentFingerRotation = this.getAngle( this._touchCurrent[ 1 ], this._touchCurrent[ 0 ] ) + this.getAngle( this._touchStart[ 1 ], this._touchStart[ 0 ] );\n\n\t\t\tif ( ! this.enablePan ) {\n\n\t\t\t\trotationPoint = new Vector3().setFromMatrixPosition( this._gizmoMatrixState );\n\n\t\t\t} else {\n\n\t\t\t\tthis._v3_2.setFromMatrixPosition( this._gizmoMatrixState );\n\t\t\t\trotationPoint = this.unprojectOnTbPlane( this.object, _center.x, _center.y, this.domElement ).applyQuaternion( this.object.quaternion ).multiplyScalar( 1 / this.object.zoom ).add( this._v3_2 );\n\n\t\t\t}\n\n\t\t\tconst amount = MathUtils.DEG2RAD * ( this._startFingerRotation - this._currentFingerRotation );\n\n\t\t\tthis.applyTransformMatrix( this.zRotate( rotationPoint, amount ) );\n\t\t\tthis.dispatchEvent( _changeEvent );\n\n\t\t}\n\n\t}\n\n\tonRotateEnd() {\n\n\t\tthis.updateTbState( STATE.IDLE, false );\n\t\tthis.activateGizmos( false );\n\t\tthis.dispatchEvent( _endEvent );\n\n\t}\n\n\tonPinchStart() {\n\n\t\tif ( this.enabled && this.enableZoom ) {\n\n\t\t\tthis.dispatchEvent( _startEvent );\n\t\t\tthis.updateTbState( STATE.SCALE, true );\n\n\t\t\tthis._startFingerDistance = this.calculatePointersDistance( this._touchCurrent[ 0 ], this._touchCurrent[ 1 ] );\n\t\t\tthis._currentFingerDistance = this._startFingerDistance;\n\n\t\t\tthis.activateGizmos( false );\n\n\t\t}\n\n\t}\n\n\tonPinchMove() {\n\n\t\tif ( this.enabled && this.enableZoom ) {\n\n\t\t\tthis.setCenter( ( this._touchCurrent[ 0 ].clientX + this._touchCurrent[ 1 ].clientX ) / 2, ( this._touchCurrent[ 0 ].clientY + this._touchCurrent[ 1 ].clientY ) / 2 );\n\t\t\tconst minDistance = 12; //minimum distance between fingers (in css pixels)\n\n\t\t\tif ( this._state != STATE.SCALE ) {\n\n\t\t\t\tthis._startFingerDistance = this._currentFingerDistance;\n\t\t\t\tthis.updateTbState( STATE.SCALE, true );\n\n\t\t\t}\n\n\t\t\tthis._currentFingerDistance = Math.max( this.calculatePointersDistance( this._touchCurrent[ 0 ], this._touchCurrent[ 1 ] ), minDistance * this._devPxRatio );\n\t\t\tconst amount = this._currentFingerDistance / this._startFingerDistance;\n\n\t\t\tlet scalePoint;\n\n\t\t\tif ( ! this.enablePan ) {\n\n\t\t\t\tscalePoint = this._gizmos.position;\n\n\t\t\t} else {\n\n\t\t\t\tif ( this.object.isOrthographicCamera ) {\n\n\t\t\t\t\tscalePoint = this.unprojectOnTbPlane( this.object, _center.x, _center.y, this.domElement )\n\t\t\t\t\t\t.applyQuaternion( this.object.quaternion )\n\t\t\t\t\t\t.multiplyScalar( 1 / this.object.zoom )\n\t\t\t\t\t\t.add( this._gizmos.position );\n\n\t\t\t\t} else if ( this.object.isPerspectiveCamera ) {\n\n\t\t\t\t\tscalePoint = this.unprojectOnTbPlane( this.object, _center.x, _center.y, this.domElement )\n\t\t\t\t\t\t.applyQuaternion( this.object.quaternion )\n\t\t\t\t\t\t.add( this._gizmos.position );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tthis.applyTransformMatrix( this.scale( amount, scalePoint ) );\n\t\t\tthis.dispatchEvent( _changeEvent );\n\n\t\t}\n\n\t}\n\n\tonPinchEnd() {\n\n\t\tthis.updateTbState( STATE.IDLE, false );\n\t\tthis.dispatchEvent( _endEvent );\n\n\t}\n\n\tonTriplePanStart() {\n\n\t\tif ( this.enabled && this.enableZoom ) {\n\n\t\t\tthis.dispatchEvent( _startEvent );\n\n\t\t\tthis.updateTbState( STATE.SCALE, true );\n\n\t\t\t//const center = event.center;\n\t\t\tlet clientX = 0;\n\t\t\tlet clientY = 0;\n\t\t\tconst nFingers = this._touchCurrent.length;\n\n\t\t\tfor ( let i = 0; i < nFingers; i ++ ) {\n\n\t\t\t\tclientX += this._touchCurrent[ i ].clientX;\n\t\t\t\tclientY += this._touchCurrent[ i ].clientY;\n\n\t\t\t}\n\n\t\t\tthis.setCenter( clientX / nFingers, clientY / nFingers );\n\n\t\t\tthis._startCursorPosition.setY( this.getCursorNDC( _center.x, _center.y, this.domElement ).y * 0.5 );\n\t\t\tthis._currentCursorPosition.copy( this._startCursorPosition );\n\n\t\t}\n\n\t}\n\n\tonTriplePanMove() {\n\n\t\tif ( this.enabled && this.enableZoom ) {\n\n\t\t\t//\t  fov / 2\n\t\t\t//\t\t|\\\n\t\t\t//\t\t| \\\n\t\t\t//\t\t|  \\\n\t\t\t//\tx\t|\t\\\n\t\t\t//\t\t| \t \\\n\t\t\t//\t\t| \t  \\\n\t\t\t//\t\t| _ _ _\\\n\t\t\t//\t\t\ty\n\n\t\t\t//const center = event.center;\n\t\t\tlet clientX = 0;\n\t\t\tlet clientY = 0;\n\t\t\tconst nFingers = this._touchCurrent.length;\n\n\t\t\tfor ( let i = 0; i < nFingers; i ++ ) {\n\n\t\t\t\tclientX += this._touchCurrent[ i ].clientX;\n\t\t\t\tclientY += this._touchCurrent[ i ].clientY;\n\n\t\t\t}\n\n\t\t\tthis.setCenter( clientX / nFingers, clientY / nFingers );\n\n\t\t\tconst screenNotches = 8;\t//how many wheel notches corresponds to a full screen pan\n\t\t\tthis._currentCursorPosition.setY( this.getCursorNDC( _center.x, _center.y, this.domElement ).y * 0.5 );\n\n\t\t\tconst movement = this._currentCursorPosition.y - this._startCursorPosition.y;\n\n\t\t\tlet size = 1;\n\n\t\t\tif ( movement < 0 ) {\n\n\t\t\t\tsize = 1 / ( Math.pow( this.scaleFactor, - movement * screenNotches ) );\n\n\t\t\t} else if ( movement > 0 ) {\n\n\t\t\t\tsize = Math.pow( this.scaleFactor, movement * screenNotches );\n\n\t\t\t}\n\n\t\t\tthis._v3_1.setFromMatrixPosition( this._cameraMatrixState );\n\t\t\tconst x = this._v3_1.distanceTo( this._gizmos.position );\n\t\t\tlet xNew = x / size; //distance between camera and gizmos if scale(size, scalepoint) would be performed\n\n\t\t\t//check min and max distance\n\t\t\txNew = MathUtils.clamp( xNew, this.minDistance, this.maxDistance );\n\n\t\t\tconst y = x * Math.tan( MathUtils.DEG2RAD * this._fovState * 0.5 );\n\n\t\t\t//calculate new fov\n\t\t\tlet newFov = MathUtils.RAD2DEG * ( Math.atan( y / xNew ) * 2 );\n\n\t\t\t//check min and max fov\n\t\t\tnewFov = MathUtils.clamp( newFov, this.minFov, this.maxFov );\n\n\t\t\tconst newDistance = y / Math.tan( MathUtils.DEG2RAD * ( newFov / 2 ) );\n\t\t\tsize = x / newDistance;\n\t\t\tthis._v3_2.setFromMatrixPosition( this._gizmoMatrixState );\n\n\t\t\tthis.setFov( newFov );\n\t\t\tthis.applyTransformMatrix( this.scale( size, this._v3_2, false ) );\n\n\t\t\t//adjusting distance\n\t\t\t_offset.copy( this._gizmos.position ).sub( this.object.position ).normalize().multiplyScalar( newDistance / x );\n\t\t\tthis._m4_1.makeTranslation( _offset.x, _offset.y, _offset.z );\n\n\t\t\tthis.dispatchEvent( _changeEvent );\n\n\t\t}\n\n\t}\n\n\tonTriplePanEnd() {\n\n\t\tthis.updateTbState( STATE.IDLE, false );\n\t\tthis.dispatchEvent( _endEvent );\n\t\t//this.dispatchEvent( _changeEvent );\n\n\t}\n\n\t/**\n\t * Set _center's x/y coordinates.\n\t *\n\t * @private\n\t * @param {number} clientX - The x coordinate.\n\t * @param {number} clientY - The y coordinate.\n\t */\n\tsetCenter( clientX, clientY ) {\n\n\t\t_center.x = clientX;\n\t\t_center.y = clientY;\n\n\t}\n\n\t/**\n\t * Set default mouse actions.\n\t *\n\t * @private\n\t */\n\tinitializeMouseActions() {\n\n\t\tthis.setMouseAction( 'PAN', 0, 'CTRL' );\n\t\tthis.setMouseAction( 'PAN', 2 );\n\n\t\tthis.setMouseAction( 'ROTATE', 0 );\n\n\t\tthis.setMouseAction( 'ZOOM', 'WHEEL' );\n\t\tthis.setMouseAction( 'ZOOM', 1 );\n\n\t\tthis.setMouseAction( 'FOV', 'WHEEL', 'SHIFT' );\n\t\tthis.setMouseAction( 'FOV', 1, 'SHIFT' );\n\n\n\t}\n\n\t/**\n\t * Compare two mouse actions.\n\t *\n\t * @private\n\t * @param {Object} action1 - The first mouse action.\n\t * @param {Object} action2 - The second mouse action.\n\t * @returns {boolean} `true` if action1 and action 2 are the same mouse action, `false` otherwise.\n\t */\n\tcompareMouseAction( action1, action2 ) {\n\n\t\tif ( action1.operation == action2.operation ) {\n\n\t\t\tif ( action1.mouse == action2.mouse && action1.key == action2.key ) {\n\n\t\t\t\treturn true;\n\n\t\t\t} else {\n\n\t\t\t\treturn false;\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\treturn false;\n\n\t\t}\n\n\t}\n\n\t/**\n\t * Set a new mouse action by specifying the operation to be performed and a mouse/key combination. In case of conflict, replaces the existing one.\n\t *\n\t * @param {'PAN'|'ROTATE'|'ZOOM'|'FOV'} operation - The operation to be performed ('PAN', 'ROTATE', 'ZOOM', 'FOV').\n\t * @param {0|1|2|'WHEEL'} mouse - A mouse button (0, 1, 2) or 'WHEEL' for wheel notches.\n\t * @param {?('CTRL'|'SHIFT')} [key=null] - The keyboard modifier ('CTRL', 'SHIFT') or null if key is not needed.\n\t * @returns {boolean} `true` if the mouse action has been successfully added, `false` otherwise.\n\t */\n\tsetMouseAction( operation, mouse, key = null ) {\n\n\t\tconst operationInput = [ 'PAN', 'ROTATE', 'ZOOM', 'FOV' ];\n\t\tconst mouseInput = [ 0, 1, 2, 'WHEEL' ];\n\t\tconst keyInput = [ 'CTRL', 'SHIFT', null ];\n\t\tlet state;\n\n\t\tif ( ! operationInput.includes( operation ) || ! mouseInput.includes( mouse ) || ! keyInput.includes( key ) ) {\n\n\t\t\t//invalid parameters\n\t\t\treturn false;\n\n\t\t}\n\n\t\tif ( mouse == 'WHEEL' ) {\n\n\t\t\tif ( operation != 'ZOOM' && operation != 'FOV' ) {\n\n\t\t\t\t//cannot associate 2D operation to 1D input\n\t\t\t\treturn false;\n\n\t\t\t}\n\n\t\t}\n\n\t\tswitch ( operation ) {\n\n\t\t\tcase 'PAN':\n\n\t\t\t\tstate = STATE.PAN;\n\t\t\t\tbreak;\n\n\t\t\tcase 'ROTATE':\n\n\t\t\t\tstate = STATE.ROTATE;\n\t\t\t\tbreak;\n\n\t\t\tcase 'ZOOM':\n\n\t\t\t\tstate = STATE.SCALE;\n\t\t\t\tbreak;\n\n\t\t\tcase 'FOV':\n\n\t\t\t\tstate = STATE.FOV;\n\t\t\t\tbreak;\n\n\t\t}\n\n\t\tconst action = {\n\n\t\t\toperation: operation,\n\t\t\tmouse: mouse,\n\t\t\tkey: key,\n\t\t\tstate: state\n\n\t\t};\n\n\t\tfor ( let i = 0; i < this.mouseActions.length; i ++ ) {\n\n\t\t\tif ( this.mouseActions[ i ].mouse == action.mouse && this.mouseActions[ i ].key == action.key ) {\n\n\t\t\t\tthis.mouseActions.splice( i, 1, action );\n\t\t\t\treturn true;\n\n\t\t\t}\n\n\t\t}\n\n\t\tthis.mouseActions.push( action );\n\t\treturn true;\n\n\t}\n\n\t/**\n\t * Remove a mouse action by specifying its mouse/key combination.\n\t *\n\t * @param {0|1|2|'WHEEL'} mouse - A mouse button (0, 1, 2) or 'WHEEL' for wheel notches.\n\t * @param {?('CTRL'|'SHIFT')} key - The keyboard modifier ('CTRL', 'SHIFT') or null if key is not needed.\n\t * @returns {boolean} `true` if the operation has been successfully removed, `false` otherwise.\n\t */\n\tunsetMouseAction( mouse, key = null ) {\n\n\t\tfor ( let i = 0; i < this.mouseActions.length; i ++ ) {\n\n\t\t\tif ( this.mouseActions[ i ].mouse == mouse && this.mouseActions[ i ].key == key ) {\n\n\t\t\t\tthis.mouseActions.splice( i, 1 );\n\t\t\t\treturn true;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn false;\n\n\t}\n\n\t/**\n\t * Return the operation associated to a mouse/keyboard combination.\n\t *\n\t * @private\n\t * @param {0|1|2|'WHEEL'} mouse - Mouse button index (0, 1, 2) or 'WHEEL' for wheel notches.\n\t * @param {?('CTRL'|'SHIFT')} key - Keyboard modifier.\n\t * @returns {?('PAN'|'ROTATE'|'ZOOM'|'FOV')} The operation if it has been found, `null` otherwise.\n\t */\n\tgetOpFromAction( mouse, key ) {\n\n\t\tlet action;\n\n\t\tfor ( let i = 0; i < this.mouseActions.length; i ++ ) {\n\n\t\t\taction = this.mouseActions[ i ];\n\t\t\tif ( action.mouse == mouse && action.key == key ) {\n\n\t\t\t\treturn action.operation;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( key != null ) {\n\n\t\t\tfor ( let i = 0; i < this.mouseActions.length; i ++ ) {\n\n\t\t\t\taction = this.mouseActions[ i ];\n\t\t\t\tif ( action.mouse == mouse && action.key == null ) {\n\n\t\t\t\t\treturn action.operation;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn null;\n\n\t}\n\n\t/**\n\t * Get the operation associated to mouse and key combination and returns the corresponding FSA state.\n\t *\n\t * @private\n\t * @param {0|1|2} mouse - Mouse button index (0, 1, 2)\n\t * @param {?('CTRL'|'SHIFT')} key - Keyboard modifier\n\t * @returns {?STATE} The FSA state obtained from the operation associated to mouse/keyboard combination.\n\t */\n\tgetOpStateFromAction( mouse, key ) {\n\n\t\tlet action;\n\n\t\tfor ( let i = 0; i < this.mouseActions.length; i ++ ) {\n\n\t\t\taction = this.mouseActions[ i ];\n\t\t\tif ( action.mouse == mouse && action.key == key ) {\n\n\t\t\t\treturn action.state;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( key != null ) {\n\n\t\t\tfor ( let i = 0; i < this.mouseActions.length; i ++ ) {\n\n\t\t\t\taction = this.mouseActions[ i ];\n\t\t\t\tif ( action.mouse == mouse && action.key == null ) {\n\n\t\t\t\t\treturn action.state;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn null;\n\n\t}\n\n\t/**\n\t * Calculate the angle between two pointers.\n\t *\n\t * @private\n\t * @param {PointerEvent} p1 - The first pointer event.\n\t * @param {PointerEvent} p2 - The second pointer event.\n\t * @returns {number} The angle between two pointers in degrees.\n\t */\n\tgetAngle( p1, p2 ) {\n\n\t\treturn Math.atan2( p2.clientY - p1.clientY, p2.clientX - p1.clientX ) * 180 / Math.PI;\n\n\t}\n\n\t/**\n\t * Updates a PointerEvent inside current pointerevents array.\n\t *\n\t * @private\n\t * @param {PointerEvent} event - The pointer event.\n\t */\n\tupdateTouchEvent( event ) {\n\n\t\tfor ( let i = 0; i < this._touchCurrent.length; i ++ ) {\n\n\t\t\tif ( this._touchCurrent[ i ].pointerId == event.pointerId ) {\n\n\t\t\t\tthis._touchCurrent.splice( i, 1, event );\n\t\t\t\tbreak;\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\t/**\n\t * Applies a transformation matrix, to the camera and gizmos.\n\t *\n\t * @private\n\t * @param {Object} transformation - Object containing matrices to apply to camera and gizmos.\n\t */\n\tapplyTransformMatrix( transformation ) {\n\n\t\tif ( transformation.camera != null ) {\n\n\t\t\tthis._m4_1.copy( this._cameraMatrixState ).premultiply( transformation.camera );\n\t\t\tthis._m4_1.decompose( this.object.position, this.object.quaternion, this.object.scale );\n\t\t\tthis.object.updateMatrix();\n\n\t\t\t//update camera up vector\n\t\t\tif ( this._state == STATE.ROTATE || this._state == STATE.ZROTATE || this._state == STATE.ANIMATION_ROTATE ) {\n\n\t\t\t\tthis.object.up.copy( this._upState ).applyQuaternion( this.object.quaternion );\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( transformation.gizmos != null ) {\n\n\t\t\tthis._m4_1.copy( this._gizmoMatrixState ).premultiply( transformation.gizmos );\n\t\t\tthis._m4_1.decompose( this._gizmos.position, this._gizmos.quaternion, this._gizmos.scale );\n\t\t\tthis._gizmos.updateMatrix();\n\n\t\t}\n\n\t\tif ( this._state == STATE.SCALE || this._state == STATE.FOCUS || this._state == STATE.ANIMATION_FOCUS ) {\n\n\t\t\tthis._tbRadius = this.calculateTbRadius( this.object );\n\n\t\t\tif ( this.adjustNearFar ) {\n\n\t\t\t\tconst cameraDistance = this.object.position.distanceTo( this._gizmos.position );\n\n\t\t\t\tconst bb = new Box3();\n\t\t\t\tbb.setFromObject( this._gizmos );\n\t\t\t\tconst sphere = new Sphere();\n\t\t\t\tbb.getBoundingSphere( sphere );\n\n\t\t\t\tconst adjustedNearPosition = Math.max( this._nearPos0, sphere.radius + sphere.center.length() );\n\t\t\t\tconst regularNearPosition = cameraDistance - this._initialNear;\n\n\t\t\t\tconst minNearPos = Math.min( adjustedNearPosition, regularNearPosition );\n\t\t\t\tthis.object.near = cameraDistance - minNearPos;\n\n\n\t\t\t\tconst adjustedFarPosition = Math.min( this._farPos0, - sphere.radius + sphere.center.length() );\n\t\t\t\tconst regularFarPosition = cameraDistance - this._initialFar;\n\n\t\t\t\tconst minFarPos = Math.min( adjustedFarPosition, regularFarPosition );\n\t\t\t\tthis.object.far = cameraDistance - minFarPos;\n\n\t\t\t\tthis.object.updateProjectionMatrix();\n\n\t\t\t} else {\n\n\t\t\t\tlet update = false;\n\n\t\t\t\tif ( this.object.near != this._initialNear ) {\n\n\t\t\t\t\tthis.object.near = this._initialNear;\n\t\t\t\t\tupdate = true;\n\n\t\t\t\t}\n\n\t\t\t\tif ( this.object.far != this._initialFar ) {\n\n\t\t\t\t\tthis.object.far = this._initialFar;\n\t\t\t\t\tupdate = true;\n\n\t\t\t\t}\n\n\t\t\t\tif ( update ) {\n\n\t\t\t\t\tthis.object.updateProjectionMatrix();\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\t/**\n\t * Calculates the angular speed.\n\t *\n\t * @private\n\t * @param {number} p0 - Position at t0.\n\t * @param {number} p1 - Position at t1.\n\t * @param {number} t0 - Initial time in milliseconds.\n\t * @param {number} t1 - Ending time in milliseconds.\n\t * @returns {number} The angular speed.\n\t */\n\tcalculateAngularSpeed( p0, p1, t0, t1 ) {\n\n\t\tconst s = p1 - p0;\n\t\tconst t = ( t1 - t0 ) / 1000;\n\t\tif ( t == 0 ) {\n\n\t\t\treturn 0;\n\n\t\t}\n\n\t\treturn s / t;\n\n\t}\n\n\t/**\n\t * Calculates the distance between two pointers.\n\t *\n\t * @private\n\t * @param {PointerEvent} p0 - The first pointer.\n\t * @param {PointerEvent} p1 - The second pointer.\n\t * @returns {number} The distance between the two pointers.\n\t */\n\tcalculatePointersDistance( p0, p1 ) {\n\n\t\treturn Math.sqrt( Math.pow( p1.clientX - p0.clientX, 2 ) + Math.pow( p1.clientY - p0.clientY, 2 ) );\n\n\t}\n\n\t/**\n\t * Calculates the rotation axis as the vector perpendicular between two vectors.\n\t *\n\t * @private\n\t * @param {Vector3} vec1 - The first vector.\n\t * @param {Vector3} vec2 - The second vector.\n\t * @returns {Vector3} The normalized rotation axis.\n\t */\n\tcalculateRotationAxis( vec1, vec2 ) {\n\n\t\tthis._rotationMatrix.extractRotation( this._cameraMatrixState );\n\t\tthis._quat.setFromRotationMatrix( this._rotationMatrix );\n\n\t\tthis._rotationAxis.crossVectors( vec1, vec2 ).applyQuaternion( this._quat );\n\t\treturn this._rotationAxis.normalize().clone();\n\n\t}\n\n\t/**\n\t * Calculates the trackball radius so that gizmo's diameter will be 2/3 of the minimum side of the camera frustum.\n\t *\n\t * @private\n\t * @param {Camera} camera - The camera.\n\t * @returns {number} The trackball radius.\n\t */\n\tcalculateTbRadius( camera ) {\n\n\t\tconst distance = camera.position.distanceTo( this._gizmos.position );\n\n\t\tif ( camera.type == 'PerspectiveCamera' ) {\n\n\t\t\tconst halfFovV = MathUtils.DEG2RAD * camera.fov * 0.5; //vertical fov/2 in radians\n\t\t\tconst halfFovH = Math.atan( ( camera.aspect ) * Math.tan( halfFovV ) ); //horizontal fov/2 in radians\n\t\t\treturn Math.tan( Math.min( halfFovV, halfFovH ) ) * distance * this.radiusFactor;\n\n\t\t} else if ( camera.type == 'OrthographicCamera' ) {\n\n\t\t\treturn Math.min( camera.top, camera.right ) * this.radiusFactor;\n\n\t\t}\n\n\t}\n\n\t/**\n\t * Focus operation consist of positioning the point of interest in front of the camera and a slightly zoom in.\n\t *\n\t * @private\n\t * @param {Vector3} point - The point of interest.\n\t * @param {number} size - Scale factor.\n\t * @param {number} [amount=1] - Amount of operation to be completed (used for focus animations, default is complete full operation).\n\t */\n\tfocus( point, size, amount = 1 ) {\n\n\t\t//move center of camera (along with gizmos) towards point of interest\n\t\t_offset.copy( point ).sub( this._gizmos.position ).multiplyScalar( amount );\n\t\tthis._translationMatrix.makeTranslation( _offset.x, _offset.y, _offset.z );\n\n\t\t_gizmoMatrixStateTemp.copy( this._gizmoMatrixState );\n\t\tthis._gizmoMatrixState.premultiply( this._translationMatrix );\n\t\tthis._gizmoMatrixState.decompose( this._gizmos.position, this._gizmos.quaternion, this._gizmos.scale );\n\n\t\t_cameraMatrixStateTemp.copy( this._cameraMatrixState );\n\t\tthis._cameraMatrixState.premultiply( this._translationMatrix );\n\t\tthis._cameraMatrixState.decompose( this.object.position, this.object.quaternion, this.object.scale );\n\n\t\t//apply zoom\n\t\tif ( this.enableZoom ) {\n\n\t\t\tthis.applyTransformMatrix( this.scale( size, this._gizmos.position ) );\n\n\t\t}\n\n\t\tthis._gizmoMatrixState.copy( _gizmoMatrixStateTemp );\n\t\tthis._cameraMatrixState.copy( _cameraMatrixStateTemp );\n\n\t}\n\n\t/**\n\t * Creates a grid if necessary and adds it to the scene.\n\t *\n\t * @private\n\t */\n\tdrawGrid() {\n\n\t\tif ( this.scene != null ) {\n\n\t\t\tconst color = 0x888888;\n\t\t\tconst multiplier = 3;\n\t\t\tlet size, divisions, maxLength, tick;\n\n\t\t\tif ( this.object.isOrthographicCamera ) {\n\n\t\t\t\tconst width = this.object.right - this.object.left;\n\t\t\t\tconst height = this.object.bottom - this.object.top;\n\n\t\t\t\tmaxLength = Math.max( width, height );\n\t\t\t\ttick = maxLength / 20;\n\n\t\t\t\tsize = maxLength / this.object.zoom * multiplier;\n\t\t\t\tdivisions = size / tick * this.object.zoom;\n\n\t\t\t} else if ( this.object.isPerspectiveCamera ) {\n\n\t\t\t\tconst distance = this.object.position.distanceTo( this._gizmos.position );\n\t\t\t\tconst halfFovV = MathUtils.DEG2RAD * this.object.fov * 0.5;\n\t\t\t\tconst halfFovH = Math.atan( ( this.object.aspect ) * Math.tan( halfFovV ) );\n\n\t\t\t\tmaxLength = Math.tan( Math.max( halfFovV, halfFovH ) ) * distance * 2;\n\t\t\t\ttick = maxLength / 20;\n\n\t\t\t\tsize = maxLength * multiplier;\n\t\t\t\tdivisions = size / tick;\n\n\t\t\t}\n\n\t\t\tif ( this._grid == null ) {\n\n\t\t\t\tthis._grid = new GridHelper( size, divisions, color, color );\n\t\t\t\tthis._grid.position.copy( this._gizmos.position );\n\t\t\t\tthis._gridPosition.copy( this._grid.position );\n\t\t\t\tthis._grid.quaternion.copy( this.object.quaternion );\n\t\t\t\tthis._grid.rotateX( Math.PI * 0.5 );\n\n\t\t\t\tthis.scene.add( this._grid );\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\tdispose() {\n\n\t\tif ( this._animationId != - 1 ) {\n\n\t\t\twindow.cancelAnimationFrame( this._animationId );\n\n\t\t}\n\n\t\tthis.disconnect();\n\n\t\tif ( this.scene !== null ) this.scene.remove( this._gizmos );\n\t\tthis.disposeGrid();\n\n\t}\n\n\t/**\n\t * Removes the grid from the scene.\n\t */\n\tdisposeGrid() {\n\n\t\tif ( this._grid != null && this.scene != null ) {\n\n\t\t\tthis.scene.remove( this._grid );\n\t\t\tthis._grid = null;\n\n\t\t}\n\n\t}\n\n\t/**\n\t * Computes the easing out cubic function for ease out effect in animation.\n\t *\n\t * @private\n\t * @param {number} t - The absolute progress of the animation in the bound of `0` (beginning of the) and `1` (ending of animation).\n\t * @returns {number} Result of easing out cubic at time `t`.\n\t */\n\teaseOutCubic( t ) {\n\n\t\treturn 1 - Math.pow( 1 - t, 3 );\n\n\t}\n\n\t/**\n\t * Makes rotation gizmos more or less visible.\n\t *\n\t * @param {boolean} isActive - If set to `true`, gizmos are more visible.\n\t */\n\tactivateGizmos( isActive ) {\n\n\t\tconst gizmoX = this._gizmos.children[ 0 ];\n\t\tconst gizmoY = this._gizmos.children[ 1 ];\n\t\tconst gizmoZ = this._gizmos.children[ 2 ];\n\n\t\tif ( isActive ) {\n\n\t\t\tgizmoX.material.setValues( { opacity: 1 } );\n\t\t\tgizmoY.material.setValues( { opacity: 1 } );\n\t\t\tgizmoZ.material.setValues( { opacity: 1 } );\n\n\t\t} else {\n\n\t\t\tgizmoX.material.setValues( { opacity: 0.6 } );\n\t\t\tgizmoY.material.setValues( { opacity: 0.6 } );\n\t\t\tgizmoZ.material.setValues( { opacity: 0.6 } );\n\n\t\t}\n\n\t}\n\n\t/**\n\t * Calculates the cursor position in NDC.\n\t *\n\t * @private\n\t * @param {number} cursorX - Cursor horizontal coordinate within the canvas.\n\t * @param {number} cursorY - Cursor vertical coordinate within the canvas.\n\t * @param {HTMLElement} canvas - The canvas where the renderer draws its output.\n\t * @returns {Vector2} Cursor normalized position inside the canvas.\n\t */\n\tgetCursorNDC( cursorX, cursorY, canvas ) {\n\n\t\tconst canvasRect = canvas.getBoundingClientRect();\n\t\tthis._v2_1.setX( ( ( cursorX - canvasRect.left ) / canvasRect.width ) * 2 - 1 );\n\t\tthis._v2_1.setY( ( ( canvasRect.bottom - cursorY ) / canvasRect.height ) * 2 - 1 );\n\t\treturn this._v2_1.clone();\n\n\t}\n\n\t/**\n\t * Calculates the cursor position inside the canvas x/y coordinates with the origin being in the center of the canvas.\n\t *\n\t * @private\n\t * @param {number} cursorX - Cursor horizontal coordinate within the canvas.\n\t * @param {number} cursorY - Cursor vertical coordinate within the canvas.\n\t * @param {HTMLElement} canvas - The canvas where the renderer draws its output.\n\t * @returns {Vector2} Cursor position inside the canvas.\n\t */\n\tgetCursorPosition( cursorX, cursorY, canvas ) {\n\n\t\tthis._v2_1.copy( this.getCursorNDC( cursorX, cursorY, canvas ) );\n\t\tthis._v2_1.x *= ( this.object.right - this.object.left ) * 0.5;\n\t\tthis._v2_1.y *= ( this.object.top - this.object.bottom ) * 0.5;\n\t\treturn this._v2_1.clone();\n\n\t}\n\n\t/**\n\t * Sets the camera to be controlled.  Must be called in order to set a new camera to be controlled.\n\t *\n\t * @param {Camera} camera - The camera to be controlled.\n\t */\n\tsetCamera( camera ) {\n\n\t\tcamera.lookAt( this.target );\n\t\tcamera.updateMatrix();\n\n\t\t//setting state\n\t\tif ( camera.type == 'PerspectiveCamera' ) {\n\n\t\t\tthis._fov0 = camera.fov;\n\t\t\tthis._fovState = camera.fov;\n\n\t\t}\n\n\t\tthis._cameraMatrixState0.copy( camera.matrix );\n\t\tthis._cameraMatrixState.copy( this._cameraMatrixState0 );\n\t\tthis._cameraProjectionState.copy( camera.projectionMatrix );\n\t\tthis._zoom0 = camera.zoom;\n\t\tthis._zoomState = this._zoom0;\n\n\t\tthis._initialNear = camera.near;\n\t\tthis._nearPos0 = camera.position.distanceTo( this.target ) - camera.near;\n\t\tthis._nearPos = this._initialNear;\n\n\t\tthis._initialFar = camera.far;\n\t\tthis._farPos0 = camera.position.distanceTo( this.target ) - camera.far;\n\t\tthis._farPos = this._initialFar;\n\n\t\tthis._up0.copy( camera.up );\n\t\tthis._upState.copy( camera.up );\n\n\t\tthis.object = camera;\n\t\tthis.object.updateProjectionMatrix();\n\n\t\t//making gizmos\n\t\tthis._tbRadius = this.calculateTbRadius( camera );\n\t\tthis.makeGizmos( this.target, this._tbRadius );\n\n\t}\n\n\t/**\n\t * Sets gizmos visibility.\n\t *\n\t * @param {boolean} value - Value of gizmos visibility.\n\t */\n\tsetGizmosVisible( value ) {\n\n\t\tthis._gizmos.visible = value;\n\t\tthis.dispatchEvent( _changeEvent );\n\n\t}\n\n\t/**\n\t * Sets gizmos radius factor and redraws gizmos.\n\t *\n\t * @param {number} value - Value of radius factor.\n\t */\n\tsetTbRadius( value ) {\n\n\t\tthis.radiusFactor = value;\n\t\tthis._tbRadius = this.calculateTbRadius( this.object );\n\n\t\tconst curve = new EllipseCurve( 0, 0, this._tbRadius, this._tbRadius );\n\t\tconst points = curve.getPoints( this._curvePts );\n\t\tconst curveGeometry = new BufferGeometry().setFromPoints( points );\n\n\n\t\tfor ( const gizmo in this._gizmos.children ) {\n\n\t\t\tthis._gizmos.children[ gizmo ].geometry = curveGeometry;\n\n\t\t}\n\n\t\tthis.dispatchEvent( _changeEvent );\n\n\t}\n\n\t/**\n\t * Creates the rotation gizmos matching trackball center and radius.\n\t *\n\t * @private\n\t * @param {Vector3} tbCenter - The trackball center.\n\t * @param {number} tbRadius - The trackball radius.\n\t */\n\tmakeGizmos( tbCenter, tbRadius ) {\n\n\t\tconst curve = new EllipseCurve( 0, 0, tbRadius, tbRadius );\n\t\tconst points = curve.getPoints( this._curvePts );\n\n\t\t//geometry\n\t\tconst curveGeometry = new BufferGeometry().setFromPoints( points );\n\n\t\t//material\n\t\tconst curveMaterialX = new LineBasicMaterial( { color: 0xff8080, fog: false, transparent: true, opacity: 0.6 } );\n\t\tconst curveMaterialY = new LineBasicMaterial( { color: 0x80ff80, fog: false, transparent: true, opacity: 0.6 } );\n\t\tconst curveMaterialZ = new LineBasicMaterial( { color: 0x8080ff, fog: false, transparent: true, opacity: 0.6 } );\n\n\t\t//line\n\t\tconst gizmoX = new Line( curveGeometry, curveMaterialX );\n\t\tconst gizmoY = new Line( curveGeometry, curveMaterialY );\n\t\tconst gizmoZ = new Line( curveGeometry, curveMaterialZ );\n\n\t\tconst rotation = Math.PI * 0.5;\n\t\tgizmoX.rotation.x = rotation;\n\t\tgizmoY.rotation.y = rotation;\n\n\n\t\t//setting state\n\t\tthis._gizmoMatrixState0.identity().setPosition( tbCenter );\n\t\tthis._gizmoMatrixState.copy( this._gizmoMatrixState0 );\n\n\t\tif ( this.object.zoom !== 1 ) {\n\n\t\t\t//adapt gizmos size to camera zoom\n\t\t\tconst size = 1 / this.object.zoom;\n\t\t\tthis._scaleMatrix.makeScale( size, size, size );\n\t\t\tthis._translationMatrix.makeTranslation( - tbCenter.x, - tbCenter.y, - tbCenter.z );\n\n\t\t\tthis._gizmoMatrixState.premultiply( this._translationMatrix ).premultiply( this._scaleMatrix );\n\t\t\tthis._translationMatrix.makeTranslation( tbCenter.x, tbCenter.y, tbCenter.z );\n\t\t\tthis._gizmoMatrixState.premultiply( this._translationMatrix );\n\n\t\t}\n\n\t\tthis._gizmoMatrixState.decompose( this._gizmos.position, this._gizmos.quaternion, this._gizmos.scale );\n\n\t\t//\n\n\t\tthis._gizmos.traverse( function ( object ) {\n\n\t\t\tif ( object.isLine ) {\n\n\t\t\t\tobject.geometry.dispose();\n\t\t\t\tobject.material.dispose();\n\n\t\t\t}\n\n\t\t} );\n\n\t\tthis._gizmos.clear();\n\n\t\t//\n\n\t\tthis._gizmos.add( gizmoX );\n\t\tthis._gizmos.add( gizmoY );\n\t\tthis._gizmos.add( gizmoZ );\n\n\t}\n\n\t/**\n\t * Performs animation for focus operation.\n\t *\n\t * @private\n\t * @param {number} time - Instant in which this function is called as performance.now().\n\t * @param {Vector3} point - Point of interest for focus operation.\n\t * @param {Matrix4} cameraMatrix - Camera matrix.\n\t * @param {Matrix4} gizmoMatrix - Gizmos matrix.\n\t */\n\tonFocusAnim( time, point, cameraMatrix, gizmoMatrix ) {\n\n\t\tif ( this._timeStart == - 1 ) {\n\n\t\t\t//animation start\n\t\t\tthis._timeStart = time;\n\n\t\t}\n\n\t\tif ( this._state == STATE.ANIMATION_FOCUS ) {\n\n\t\t\tconst deltaTime = time - this._timeStart;\n\t\t\tconst animTime = deltaTime / this.focusAnimationTime;\n\n\t\t\tthis._gizmoMatrixState.copy( gizmoMatrix );\n\n\t\t\tif ( animTime >= 1 ) {\n\n\t\t\t\t//animation end\n\n\t\t\t\tthis._gizmoMatrixState.decompose( this._gizmos.position, this._gizmos.quaternion, this._gizmos.scale );\n\n\t\t\t\tthis.focus( point, this.scaleFactor );\n\n\t\t\t\tthis._timeStart = - 1;\n\t\t\t\tthis.updateTbState( STATE.IDLE, false );\n\t\t\t\tthis.activateGizmos( false );\n\n\t\t\t\tthis.dispatchEvent( _changeEvent );\n\n\t\t\t} else {\n\n\t\t\t\tconst amount = this.easeOutCubic( animTime );\n\t\t\t\tconst size = ( ( 1 - amount ) + ( this.scaleFactor * amount ) );\n\n\t\t\t\tthis._gizmoMatrixState.decompose( this._gizmos.position, this._gizmos.quaternion, this._gizmos.scale );\n\t\t\t\tthis.focus( point, size, amount );\n\n\t\t\t\tthis.dispatchEvent( _changeEvent );\n\t\t\t\tconst self = this;\n\t\t\t\tthis._animationId = window.requestAnimationFrame( function ( t ) {\n\n\t\t\t\t\tself.onFocusAnim( t, point, cameraMatrix, gizmoMatrix.clone() );\n\n\t\t\t\t} );\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\t//interrupt animation\n\n\t\t\tthis._animationId = - 1;\n\t\t\tthis._timeStart = - 1;\n\n\t\t}\n\n\t}\n\n\t/**\n\t * Performs animation for rotation operation.\n\t *\n\t * @private\n\t * @param {number} time - Instant in which this function is called as performance.now().\n\t * @param {Vector3} rotationAxis - Rotation axis.\n\t * @param {number} w0 - Initial angular velocity.\n\t */\n\tonRotationAnim( time, rotationAxis, w0 ) {\n\n\t\tif ( this._timeStart == - 1 ) {\n\n\t\t\t//animation start\n\t\t\tthis._anglePrev = 0;\n\t\t\tthis._angleCurrent = 0;\n\t\t\tthis._timeStart = time;\n\n\t\t}\n\n\t\tif ( this._state == STATE.ANIMATION_ROTATE ) {\n\n\t\t\t//w = w0 + alpha * t\n\t\t\tconst deltaTime = ( time - this._timeStart ) / 1000;\n\t\t\tconst w = w0 + ( ( - this.dampingFactor ) * deltaTime );\n\n\t\t\tif ( w > 0 ) {\n\n\t\t\t\t//tetha = 0.5 * alpha * t^2 + w0 * t + tetha0\n\t\t\t\tthis._angleCurrent = 0.5 * ( - this.dampingFactor ) * Math.pow( deltaTime, 2 ) + w0 * deltaTime + 0;\n\t\t\t\tthis.applyTransformMatrix( this.rotate( rotationAxis, this._angleCurrent ) );\n\t\t\t\tthis.dispatchEvent( _changeEvent );\n\t\t\t\tconst self = this;\n\t\t\t\tthis._animationId = window.requestAnimationFrame( function ( t ) {\n\n\t\t\t\t\tself.onRotationAnim( t, rotationAxis, w0 );\n\n\t\t\t\t} );\n\n\t\t\t} else {\n\n\t\t\t\tthis._animationId = - 1;\n\t\t\t\tthis._timeStart = - 1;\n\n\t\t\t\tthis.updateTbState( STATE.IDLE, false );\n\t\t\t\tthis.activateGizmos( false );\n\n\t\t\t\tthis.dispatchEvent( _changeEvent );\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\t//interrupt animation\n\n\t\t\tthis._animationId = - 1;\n\t\t\tthis._timeStart = - 1;\n\n\t\t\tif ( this._state != STATE.ROTATE ) {\n\n\t\t\t\tthis.activateGizmos( false );\n\t\t\t\tthis.dispatchEvent( _changeEvent );\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\n\t/**\n\t * Performs pan operation moving camera between two points.\n\t *\n\t * @private\n\t * @param {Vector3} p0 - Initial point.\n\t * @param {Vector3} p1 - Ending point.\n\t * @param {boolean} [adjust=false] - If movement should be adjusted considering camera distance (Perspective only).\n\t * @returns {Object}\n\t */\n\tpan( p0, p1, adjust = false ) {\n\n\t\tconst movement = p0.clone().sub( p1 );\n\n\t\tif ( this.object.isOrthographicCamera ) {\n\n\t\t\t//adjust movement amount\n\t\t\tmovement.multiplyScalar( 1 / this.object.zoom );\n\n\t\t} else if ( this.object.isPerspectiveCamera && adjust ) {\n\n\t\t\t//adjust movement amount\n\t\t\tthis._v3_1.setFromMatrixPosition( this._cameraMatrixState0 );\t//camera's initial position\n\t\t\tthis._v3_2.setFromMatrixPosition( this._gizmoMatrixState0 );\t//gizmo's initial position\n\t\t\tconst distanceFactor = this._v3_1.distanceTo( this._v3_2 ) / this.object.position.distanceTo( this._gizmos.position );\n\t\t\tmovement.multiplyScalar( 1 / distanceFactor );\n\n\t\t}\n\n\t\tthis._v3_1.set( movement.x, movement.y, 0 ).applyQuaternion( this.object.quaternion );\n\n\t\tthis._m4_1.makeTranslation( this._v3_1.x, this._v3_1.y, this._v3_1.z );\n\n\t\tthis.setTransformationMatrices( this._m4_1, this._m4_1 );\n\t\treturn _transformation;\n\n\t}\n\n\t/**\n\t * Resets the controls.\n\t */\n\treset() {\n\n\t\tthis.target.copy( this._target0 );\n\t\tthis.object.zoom = this._zoom0;\n\n\t\tif ( this.object.isPerspectiveCamera ) {\n\n\t\t\tthis.object.fov = this._fov0;\n\n\t\t}\n\n\t\tthis.object.near = this._nearPos;\n\t\tthis.object.far = this._farPos;\n\t\tthis._cameraMatrixState.copy( this._cameraMatrixState0 );\n\t\tthis._cameraMatrixState.decompose( this.object.position, this.object.quaternion, this.object.scale );\n\t\tthis.object.up.copy( this._up0 );\n\n\t\tthis.object.updateMatrix();\n\t\tthis.object.updateProjectionMatrix();\n\n\t\tthis._gizmoMatrixState.copy( this._gizmoMatrixState0 );\n\t\tthis._gizmoMatrixState0.decompose( this._gizmos.position, this._gizmos.quaternion, this._gizmos.scale );\n\t\tthis._gizmos.updateMatrix();\n\n\t\tthis._tbRadius = this.calculateTbRadius( this.object );\n\t\tthis.makeGizmos( this._gizmos.position, this._tbRadius );\n\n\t\tthis.object.lookAt( this._gizmos.position );\n\n\t\tthis.updateTbState( STATE.IDLE, false );\n\n\t\tthis.dispatchEvent( _changeEvent );\n\n\t}\n\n\t/**\n\t * Rotates the camera around an axis passing by trackball's center.\n\t *\n\t * @private\n\t * @param {Vector3} axis - Rotation axis.\n\t * @param {number} angle - Angle in radians.\n\t * @returns {Object} Object with 'camera' field containing transformation matrix resulting from the operation to be applied to the camera.\n\t */\n\trotate( axis, angle ) {\n\n\t\tconst point = this._gizmos.position; //rotation center\n\t\tthis._translationMatrix.makeTranslation( - point.x, - point.y, - point.z );\n\t\tthis._rotationMatrix.makeRotationAxis( axis, - angle );\n\n\t\t//rotate camera\n\t\tthis._m4_1.makeTranslation( point.x, point.y, point.z );\n\t\tthis._m4_1.multiply( this._rotationMatrix );\n\t\tthis._m4_1.multiply( this._translationMatrix );\n\n\t\tthis.setTransformationMatrices( this._m4_1 );\n\n\t\treturn _transformation;\n\n\t}\n\n\t/**\n\t * Copy the current state to clipboard (as a readable JSON text).\n\t */\n\tcopyState() {\n\n\t\tlet state;\n\t\tif ( this.object.isOrthographicCamera ) {\n\n\t\t\tstate = JSON.stringify( {\n\t\t\t\tarcballState: {\n\t\t\t\t\tcameraFar: this.object.far,\n\t\t\t\t\tcameraMatrix: this.object.matrix,\n\t\t\t\t\tcameraNear: this.object.near,\n\t\t\t\t\tcameraUp: this.object.up,\n\t\t\t\t\tcameraZoom: this.object.zoom,\n\t\t\t\t\tgizmoMatrix: this._gizmos.matrix,\n\t\t\t\t\ttarget: this.target\n\n\t\t\t\t}\n\t\t\t} );\n\n\t\t} else if ( this.object.isPerspectiveCamera ) {\n\n\t\t\tstate = JSON.stringify( {\n\t\t\t\tarcballState: {\n\t\t\t\t\tcameraFar: this.object.far,\n\t\t\t\t\tcameraFov: this.object.fov,\n\t\t\t\t\tcameraMatrix: this.object.matrix,\n\t\t\t\t\tcameraNear: this.object.near,\n\t\t\t\t\tcameraUp: this.object.up,\n\t\t\t\t\tcameraZoom: this.object.zoom,\n\t\t\t\t\tgizmoMatrix: this._gizmos.matrix,\n\t\t\t\t\ttarget: this.target\n\n\t\t\t\t}\n\t\t\t} );\n\n\t\t}\n\n\t\tnavigator.clipboard.writeText( state );\n\n\t}\n\n\t/**\n\t * Set the controls state from the clipboard, assumes that the clipboard stores a JSON\n\t * text as saved from `copyState()`.\n\t */\n\tpasteState() {\n\n\t\tconst self = this;\n\t\tnavigator.clipboard.readText().then( function resolved( value ) {\n\n\t\t\tself.setStateFromJSON( value );\n\n\t\t} );\n\n\t}\n\n\t/**\n\t * Saves the current state of the control. This can later be recover with `reset()`.\n\t */\n\tsaveState() {\n\n\t\tthis.object.updateMatrix();\n\t\tthis._gizmos.updateMatrix();\n\n\t\tthis._target0.copy( this.target );\n\t\tthis._cameraMatrixState0.copy( this.object.matrix );\n\t\tthis._gizmoMatrixState0.copy( this._gizmos.matrix );\n\t\tthis._nearPos = this.object.near;\n\t\tthis._farPos = this.object.far;\n\t\tthis._zoom0 = this.object.zoom;\n\t\tthis._up0.copy( this.object.up );\n\n\t\tif ( this.object.isPerspectiveCamera ) {\n\n\t\t\tthis._fov0 = this.object.fov;\n\n\t\t}\n\n\t}\n\n\t/**\n\t * Performs uniform scale operation around a given point.\n\t *\n\t * @private\n\t * @param {number} size - Scale factor.\n\t * @param {Vector3} point - Point around which scale.\n\t * @param {boolean} scaleGizmos - If gizmos should be scaled (Perspective only).\n\t * @returns {Object} Object with 'camera' and 'gizmo' fields containing transformation matrices resulting from the operation to be applied to the camera and gizmos.\n\t */\n\tscale( size, point, scaleGizmos = true ) {\n\n\t\t_scalePointTemp.copy( point );\n\t\tlet sizeInverse = 1 / size;\n\n\t\tif ( this.object.isOrthographicCamera ) {\n\n\t\t\t//camera zoom\n\t\t\tthis.object.zoom = this._zoomState;\n\t\t\tthis.object.zoom *= size;\n\n\t\t\t//check min and max zoom\n\t\t\tif ( this.object.zoom > this.maxZoom ) {\n\n\t\t\t\tthis.object.zoom = this.maxZoom;\n\t\t\t\tsizeInverse = this._zoomState / this.maxZoom;\n\n\t\t\t} else if ( this.object.zoom < this.minZoom ) {\n\n\t\t\t\tthis.object.zoom = this.minZoom;\n\t\t\t\tsizeInverse = this._zoomState / this.minZoom;\n\n\t\t\t}\n\n\t\t\tthis.object.updateProjectionMatrix();\n\n\t\t\tthis._v3_1.setFromMatrixPosition( this._gizmoMatrixState );\t//gizmos position\n\n\t\t\t//scale gizmos so they appear in the same spot having the same dimension\n\t\t\tthis._scaleMatrix.makeScale( sizeInverse, sizeInverse, sizeInverse );\n\t\t\tthis._translationMatrix.makeTranslation( - this._v3_1.x, - this._v3_1.y, - this._v3_1.z );\n\n\t\t\tthis._m4_2.makeTranslation( this._v3_1.x, this._v3_1.y, this._v3_1.z ).multiply( this._scaleMatrix );\n\t\t\tthis._m4_2.multiply( this._translationMatrix );\n\n\n\t\t\t//move camera and gizmos to obtain pinch effect\n\t\t\t_scalePointTemp.sub( this._v3_1 );\n\n\t\t\tconst amount = _scalePointTemp.clone().multiplyScalar( sizeInverse );\n\t\t\t_scalePointTemp.sub( amount );\n\n\t\t\tthis._m4_1.makeTranslation( _scalePointTemp.x, _scalePointTemp.y, _scalePointTemp.z );\n\t\t\tthis._m4_2.premultiply( this._m4_1 );\n\n\t\t\tthis.setTransformationMatrices( this._m4_1, this._m4_2 );\n\t\t\treturn _transformation;\n\n\t\t} else if ( this.object.isPerspectiveCamera ) {\n\n\t\t\tthis._v3_1.setFromMatrixPosition( this._cameraMatrixState );\n\t\t\tthis._v3_2.setFromMatrixPosition( this._gizmoMatrixState );\n\n\t\t\t//move camera\n\t\t\tlet distance = this._v3_1.distanceTo( _scalePointTemp );\n\t\t\tlet amount = distance - ( distance * sizeInverse );\n\n\t\t\t//check min and max distance\n\t\t\tconst newDistance = distance - amount;\n\t\t\tif ( newDistance < this.minDistance ) {\n\n\t\t\t\tsizeInverse = this.minDistance / distance;\n\t\t\t\tamount = distance - ( distance * sizeInverse );\n\n\t\t\t} else if ( newDistance > this.maxDistance ) {\n\n\t\t\t\tsizeInverse = this.maxDistance / distance;\n\t\t\t\tamount = distance - ( distance * sizeInverse );\n\n\t\t\t}\n\n\t\t\t_offset.copy( _scalePointTemp ).sub( this._v3_1 ).normalize().multiplyScalar( amount );\n\n\t\t\tthis._m4_1.makeTranslation( _offset.x, _offset.y, _offset.z );\n\n\n\t\t\tif ( scaleGizmos ) {\n\n\t\t\t\t//scale gizmos so they appear in the same spot having the same dimension\n\t\t\t\tconst pos = this._v3_2;\n\n\t\t\t\tdistance = pos.distanceTo( _scalePointTemp );\n\t\t\t\tamount = distance - ( distance * sizeInverse );\n\t\t\t\t_offset.copy( _scalePointTemp ).sub( this._v3_2 ).normalize().multiplyScalar( amount );\n\n\t\t\t\tthis._translationMatrix.makeTranslation( pos.x, pos.y, pos.z );\n\t\t\t\tthis._scaleMatrix.makeScale( sizeInverse, sizeInverse, sizeInverse );\n\n\t\t\t\tthis._m4_2.makeTranslation( _offset.x, _offset.y, _offset.z ).multiply( this._translationMatrix );\n\t\t\t\tthis._m4_2.multiply( this._scaleMatrix );\n\n\t\t\t\tthis._translationMatrix.makeTranslation( - pos.x, - pos.y, - pos.z );\n\n\t\t\t\tthis._m4_2.multiply( this._translationMatrix );\n\t\t\t\tthis.setTransformationMatrices( this._m4_1, this._m4_2 );\n\n\n\t\t\t} else {\n\n\t\t\t\tthis.setTransformationMatrices( this._m4_1 );\n\n\t\t\t}\n\n\t\t\treturn _transformation;\n\n\t\t}\n\n\t}\n\n\t/**\n\t * Sets camera fov.\n\t *\n\t * @private\n\t * @param {number} value - The FOV to be set.\n\t */\n\tsetFov( value ) {\n\n\t\tif ( this.object.isPerspectiveCamera ) {\n\n\t\t\tthis.object.fov = MathUtils.clamp( value, this.minFov, this.maxFov );\n\t\t\tthis.object.updateProjectionMatrix();\n\n\t\t}\n\n\t}\n\n\t/**\n\t * Sets values in transformation object.\n\t *\n\t * @private\n\t * @param {?Matrix4} [camera=null] - Transformation to be applied to the camera.\n\t * @param {?Matrix4} [gizmos=null] - Transformation to be applied to gizmos.\n\t */\n\tsetTransformationMatrices( camera = null, gizmos = null ) {\n\n\t\tif ( camera != null ) {\n\n\t\t\tif ( _transformation.camera != null ) {\n\n\t\t\t\t_transformation.camera.copy( camera );\n\n\t\t\t} else {\n\n\t\t\t\t_transformation.camera = camera.clone();\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\t_transformation.camera = null;\n\n\t\t}\n\n\t\tif ( gizmos != null ) {\n\n\t\t\tif ( _transformation.gizmos != null ) {\n\n\t\t\t\t_transformation.gizmos.copy( gizmos );\n\n\t\t\t} else {\n\n\t\t\t\t_transformation.gizmos = gizmos.clone();\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\t_transformation.gizmos = null;\n\n\t\t}\n\n\t}\n\n\t/**\n\t * Rotates camera around its direction axis passing by a given point by a given angle.\n\t *\n\t * @private\n\t * @param {Vector3} point - The point where the rotation axis is passing trough.\n\t * @param {number} angle - Angle in radians.\n\t * @returns {Object} The computed transformation matrix.\n\t */\n\tzRotate( point, angle ) {\n\n\t\tthis._rotationMatrix.makeRotationAxis( this._rotationAxis, angle );\n\t\tthis._translationMatrix.makeTranslation( - point.x, - point.y, - point.z );\n\n\t\tthis._m4_1.makeTranslation( point.x, point.y, point.z );\n\t\tthis._m4_1.multiply( this._rotationMatrix );\n\t\tthis._m4_1.multiply( this._translationMatrix );\n\n\t\tthis._v3_1.setFromMatrixPosition( this._gizmoMatrixState ).sub( point );\t//vector from rotation center to gizmos position\n\t\tthis._v3_2.copy( this._v3_1 ).applyAxisAngle( this._rotationAxis, angle );\t//apply rotation\n\t\tthis._v3_2.sub( this._v3_1 );\n\n\t\tthis._m4_2.makeTranslation( this._v3_2.x, this._v3_2.y, this._v3_2.z );\n\n\t\tthis.setTransformationMatrices( this._m4_1, this._m4_2 );\n\t\treturn _transformation;\n\n\t}\n\n\t/**\n\t * Returns the raycaster that is used for user interaction. This object is shared between all\n\t * instances of `ArcballControls`.\n\t *\n\t * @returns {Raycaster} The internal raycaster.\n\t */\n\tgetRaycaster() {\n\n\t\treturn _raycaster;\n\n\t}\n\n\n\t/**\n\t * Unprojects the cursor on the 3D object surface.\n\t *\n\t * @private\n\t * @param {Vector2} cursor - Cursor coordinates in NDC.\n\t * @param {Camera} camera - Virtual camera.\n\t * @returns {?Vector3} The point of intersection with the model, if exist, null otherwise.\n\t */\n\tunprojectOnObj( cursor, camera ) {\n\n\t\tconst raycaster = this.getRaycaster();\n\t\traycaster.near = camera.near;\n\t\traycaster.far = camera.far;\n\t\traycaster.setFromCamera( cursor, camera );\n\n\t\tconst intersect = raycaster.intersectObjects( this.scene.children, true );\n\n\t\tfor ( let i = 0; i < intersect.length; i ++ ) {\n\n\t\t\tif ( intersect[ i ].object.uuid != this._gizmos.uuid && intersect[ i ].face != null ) {\n\n\t\t\t\treturn intersect[ i ].point.clone();\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn null;\n\n\t}\n\n\t/**\n\t * Unproject the cursor on the trackball surface.\n\t *\n\t * @private\n\t * @param {Camera} camera - The virtual camera.\n\t * @param {number} cursorX - Cursor horizontal coordinate on screen.\n\t * @param {number} cursorY - Cursor vertical coordinate on screen.\n\t * @param {HTMLElement} canvas - The canvas where the renderer draws its output.\n\t * @param {number} tbRadius - The trackball radius.\n\t * @returns {Vector3} The unprojected point on the trackball surface.\n\t */\n\tunprojectOnTbSurface( camera, cursorX, cursorY, canvas, tbRadius ) {\n\n\t\tif ( camera.type == 'OrthographicCamera' ) {\n\n\t\t\tthis._v2_1.copy( this.getCursorPosition( cursorX, cursorY, canvas ) );\n\t\t\tthis._v3_1.set( this._v2_1.x, this._v2_1.y, 0 );\n\n\t\t\tconst x2 = Math.pow( this._v2_1.x, 2 );\n\t\t\tconst y2 = Math.pow( this._v2_1.y, 2 );\n\t\t\tconst r2 = Math.pow( this._tbRadius, 2 );\n\n\t\t\tif ( x2 + y2 <= r2 * 0.5 ) {\n\n\t\t\t\t//intersection with sphere\n\t\t\t\tthis._v3_1.setZ( Math.sqrt( r2 - ( x2 + y2 ) ) );\n\n\t\t\t} else {\n\n\t\t\t\t//intersection with hyperboloid\n\t\t\t\tthis._v3_1.setZ( ( r2 * 0.5 ) / ( Math.sqrt( x2 + y2 ) ) );\n\n\t\t\t}\n\n\t\t\treturn this._v3_1;\n\n\t\t} else if ( camera.type == 'PerspectiveCamera' ) {\n\n\t\t\t//unproject cursor on the near plane\n\t\t\tthis._v2_1.copy( this.getCursorNDC( cursorX, cursorY, canvas ) );\n\n\t\t\tthis._v3_1.set( this._v2_1.x, this._v2_1.y, - 1 );\n\t\t\tthis._v3_1.applyMatrix4( camera.projectionMatrixInverse );\n\n\t\t\tconst rayDir = this._v3_1.clone().normalize(); //unprojected ray direction\n\t\t\tconst cameraGizmoDistance = camera.position.distanceTo( this._gizmos.position );\n\t\t\tconst radius2 = Math.pow( tbRadius, 2 );\n\n\t\t\t//\t  camera\n\t\t\t//\t\t|\\\n\t\t\t//\t\t| \\\n\t\t\t//\t\t|  \\\n\t\t\t//\th\t|\t\\\n\t\t\t//\t\t| \t \\\n\t\t\t//\t\t| \t  \\\n\t\t\t//\t_ _ | _ _ _\\ _ _  near plane\n\t\t\t//\t\t\tl\n\n\t\t\tconst h = this._v3_1.z;\n\t\t\tconst l = Math.sqrt( Math.pow( this._v3_1.x, 2 ) + Math.pow( this._v3_1.y, 2 ) );\n\n\t\t\tif ( l == 0 ) {\n\n\t\t\t\t//ray aligned with camera\n\t\t\t\trayDir.set( this._v3_1.x, this._v3_1.y, tbRadius );\n\t\t\t\treturn rayDir;\n\n\t\t\t}\n\n\t\t\tconst m = h / l;\n\t\t\tconst q = cameraGizmoDistance;\n\n\t\t\t/*\n\t\t\t * calculate intersection point between unprojected ray and trackball surface\n\t\t\t *|y = m * x + q\n\t\t\t *|x^2 + y^2 = r^2\n\t\t\t *\n\t\t\t * (m^2 + 1) * x^2 + (2 * m * q) * x + q^2 - r^2 = 0\n\t\t\t */\n\t\t\tlet a = Math.pow( m, 2 ) + 1;\n\t\t\tlet b = 2 * m * q;\n\t\t\tlet c = Math.pow( q, 2 ) - radius2;\n\t\t\tlet delta = Math.pow( b, 2 ) - ( 4 * a * c );\n\n\t\t\tif ( delta >= 0 ) {\n\n\t\t\t\t//intersection with sphere\n\t\t\t\tthis._v2_1.setX( ( - b - Math.sqrt( delta ) ) / ( 2 * a ) );\n\t\t\t\tthis._v2_1.setY( m * this._v2_1.x + q );\n\n\t\t\t\tconst angle = MathUtils.RAD2DEG * this._v2_1.angle();\n\n\t\t\t\tif ( angle >= 45 ) {\n\n\t\t\t\t\t//if angle between intersection point and X' axis is >= 45, return that point\n\t\t\t\t\t//otherwise, calculate intersection point with hyperboloid\n\n\t\t\t\t\tconst rayLength = Math.sqrt( Math.pow( this._v2_1.x, 2 ) + Math.pow( ( cameraGizmoDistance - this._v2_1.y ), 2 ) );\n\t\t\t\t\trayDir.multiplyScalar( rayLength );\n\t\t\t\t\trayDir.z += cameraGizmoDistance;\n\t\t\t\t\treturn rayDir;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t//intersection with hyperboloid\n\t\t\t/*\n\t\t\t *|y = m * x + q\n\t\t\t *|y = (1 / x) * (r^2 / 2)\n\t\t\t *\n\t\t\t * m * x^2 + q * x - r^2 / 2 = 0\n\t\t\t */\n\n\t\t\ta = m;\n\t\t\tb = q;\n\t\t\tc = - radius2 * 0.5;\n\t\t\tdelta = Math.pow( b, 2 ) - ( 4 * a * c );\n\t\t\tthis._v2_1.setX( ( - b - Math.sqrt( delta ) ) / ( 2 * a ) );\n\t\t\tthis._v2_1.setY( m * this._v2_1.x + q );\n\n\t\t\tconst rayLength = Math.sqrt( Math.pow( this._v2_1.x, 2 ) + Math.pow( ( cameraGizmoDistance - this._v2_1.y ), 2 ) );\n\n\t\t\trayDir.multiplyScalar( rayLength );\n\t\t\trayDir.z += cameraGizmoDistance;\n\t\t\treturn rayDir;\n\n\t\t}\n\n\t}\n\n\n\t/**\n\t * Unprojects the cursor on the plane passing through the center of the trackball orthogonal to the camera.\n\t *\n\t * @private\n\t * @param {Camera} camera - The virtual camera.\n\t * @param {number} cursorX - Cursor horizontal coordinate on screen.\n\t * @param {number} cursorY - Cursor vertical coordinate on screen.\n\t * @param {HTMLElement} canvas - The canvas where the renderer draws its output.\n\t * @param {boolean} [initialDistance=false] - If initial distance between camera and gizmos should be used for calculations instead of current (Perspective only).\n\t * @returns {Vector3} The unprojected point on the trackball plane.\n\t */\n\tunprojectOnTbPlane( camera, cursorX, cursorY, canvas, initialDistance = false ) {\n\n\t\tif ( camera.type == 'OrthographicCamera' ) {\n\n\t\t\tthis._v2_1.copy( this.getCursorPosition( cursorX, cursorY, canvas ) );\n\t\t\tthis._v3_1.set( this._v2_1.x, this._v2_1.y, 0 );\n\n\t\t\treturn this._v3_1.clone();\n\n\t\t} else if ( camera.type == 'PerspectiveCamera' ) {\n\n\t\t\tthis._v2_1.copy( this.getCursorNDC( cursorX, cursorY, canvas ) );\n\n\t\t\t//unproject cursor on the near plane\n\t\t\tthis._v3_1.set( this._v2_1.x, this._v2_1.y, - 1 );\n\t\t\tthis._v3_1.applyMatrix4( camera.projectionMatrixInverse );\n\n\t\t\tconst rayDir = this._v3_1.clone().normalize(); //unprojected ray direction\n\n\t\t\t//\t  camera\n\t\t\t//\t\t|\\\n\t\t\t//\t\t| \\\n\t\t\t//\t\t|  \\\n\t\t\t//\th\t|\t\\\n\t\t\t//\t\t| \t \\\n\t\t\t//\t\t| \t  \\\n\t\t\t//\t_ _ | _ _ _\\ _ _  near plane\n\t\t\t//\t\t\tl\n\n\t\t\tconst h = this._v3_1.z;\n\t\t\tconst l = Math.sqrt( Math.pow( this._v3_1.x, 2 ) + Math.pow( this._v3_1.y, 2 ) );\n\t\t\tlet cameraGizmoDistance;\n\n\t\t\tif ( initialDistance ) {\n\n\t\t\t\tcameraGizmoDistance = this._v3_1.setFromMatrixPosition( this._cameraMatrixState0 ).distanceTo( this._v3_2.setFromMatrixPosition( this._gizmoMatrixState0 ) );\n\n\t\t\t} else {\n\n\t\t\t\tcameraGizmoDistance = camera.position.distanceTo( this._gizmos.position );\n\n\t\t\t}\n\n\t\t\t/*\n\t\t\t * calculate intersection point between unprojected ray and the plane\n\t\t\t *|y = mx + q\n\t\t\t *|y = 0\n\t\t\t *\n\t\t\t * x = -q/m\n\t\t\t*/\n\t\t\tif ( l == 0 ) {\n\n\t\t\t\t//ray aligned with camera\n\t\t\t\trayDir.set( 0, 0, 0 );\n\t\t\t\treturn rayDir;\n\n\t\t\t}\n\n\t\t\tconst m = h / l;\n\t\t\tconst q = cameraGizmoDistance;\n\t\t\tconst x = - q / m;\n\n\t\t\tconst rayLength = Math.sqrt( Math.pow( q, 2 ) + Math.pow( x, 2 ) );\n\t\t\trayDir.multiplyScalar( rayLength );\n\t\t\trayDir.z = 0;\n\t\t\treturn rayDir;\n\n\t\t}\n\n\t}\n\n\t/**\n\t * Updates camera and gizmos state.\n\t *\n\t * @private\n\t */\n\tupdateMatrixState() {\n\n\t\t//update camera and gizmos state\n\t\tthis._cameraMatrixState.copy( this.object.matrix );\n\t\tthis._gizmoMatrixState.copy( this._gizmos.matrix );\n\n\t\tif ( this.object.isOrthographicCamera ) {\n\n\t\t\tthis._cameraProjectionState.copy( this.object.projectionMatrix );\n\t\t\tthis.object.updateProjectionMatrix();\n\t\t\tthis._zoomState = this.object.zoom;\n\n\t\t} else if ( this.object.isPerspectiveCamera ) {\n\n\t\t\tthis._fovState = this.object.fov;\n\n\t\t}\n\n\t}\n\n\t/**\n\t * Updates the trackball FSA.\n\t *\n\t * @private\n\t * @param {STATE} newState - New state of the FSA.\n\t * @param {boolean} updateMatrices - If matrices state should be updated.\n\t */\n\tupdateTbState( newState, updateMatrices ) {\n\n\t\tthis._state = newState;\n\t\tif ( updateMatrices ) {\n\n\t\t\tthis.updateMatrixState();\n\n\t\t}\n\n\t}\n\n\tupdate() {\n\n\t\tif ( this.target.equals( this._currentTarget ) === false ) {\n\n\t\t\tthis._gizmos.position.copy( this.target );\t//for correct radius calculation\n\t\t\tthis._tbRadius = this.calculateTbRadius( this.object );\n\t\t\tthis.makeGizmos( this.target, this._tbRadius );\n\t\t\tthis._currentTarget.copy( this.target );\n\n\t\t}\n\n\t\t//check min/max parameters\n\t\tif ( this.object.isOrthographicCamera ) {\n\n\t\t\t//check zoom\n\t\t\tif ( this.object.zoom > this.maxZoom || this.object.zoom < this.minZoom ) {\n\n\t\t\t\tconst newZoom = MathUtils.clamp( this.object.zoom, this.minZoom, this.maxZoom );\n\t\t\t\tthis.applyTransformMatrix( this.scale( newZoom / this.object.zoom, this._gizmos.position, true ) );\n\n\t\t\t}\n\n\t\t} else if ( this.object.isPerspectiveCamera ) {\n\n\t\t\t//check distance\n\t\t\tconst distance = this.object.position.distanceTo( this._gizmos.position );\n\n\t\t\tif ( distance > this.maxDistance + _EPS || distance < this.minDistance - _EPS ) {\n\n\t\t\t\tconst newDistance = MathUtils.clamp( distance, this.minDistance, this.maxDistance );\n\t\t\t\tthis.applyTransformMatrix( this.scale( newDistance / distance, this._gizmos.position ) );\n\t\t\t\tthis.updateMatrixState();\n\n\t\t\t}\n\n\t\t\t//check fov\n\t\t\tif ( this.object.fov < this.minFov || this.object.fov > this.maxFov ) {\n\n\t\t\t\tthis.object.fov = MathUtils.clamp( this.object.fov, this.minFov, this.maxFov );\n\t\t\t\tthis.object.updateProjectionMatrix();\n\n\t\t\t}\n\n\t\t\tconst oldRadius = this._tbRadius;\n\t\t\tthis._tbRadius = this.calculateTbRadius( this.object );\n\n\t\t\tif ( oldRadius < this._tbRadius - _EPS || oldRadius > this._tbRadius + _EPS ) {\n\n\t\t\t\tconst scale = ( this._gizmos.scale.x + this._gizmos.scale.y + this._gizmos.scale.z ) / 3;\n\t\t\t\tconst newRadius = this._tbRadius / scale;\n\t\t\t\tconst curve = new EllipseCurve( 0, 0, newRadius, newRadius );\n\t\t\t\tconst points = curve.getPoints( this._curvePts );\n\t\t\t\tconst curveGeometry = new BufferGeometry().setFromPoints( points );\n\n\t\t\t\tfor ( const gizmo in this._gizmos.children ) {\n\n\t\t\t\t\tthis._gizmos.children[ gizmo ].geometry = curveGeometry;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tthis.object.lookAt( this._gizmos.position );\n\n\t}\n\n\tsetStateFromJSON( json ) {\n\n\t\tconst state = JSON.parse( json );\n\n\t\tif ( state.arcballState != undefined ) {\n\n\t\t\tthis.target.fromArray( state.arcballState.target );\n\n\t\t\tthis._cameraMatrixState.fromArray( state.arcballState.cameraMatrix.elements );\n\t\t\tthis._cameraMatrixState.decompose( this.object.position, this.object.quaternion, this.object.scale );\n\n\t\t\tthis.object.up.copy( state.arcballState.cameraUp );\n\t\t\tthis.object.near = state.arcballState.cameraNear;\n\t\t\tthis.object.far = state.arcballState.cameraFar;\n\n\t\t\tthis.object.zoom = state.arcballState.cameraZoom;\n\n\t\t\tif ( this.object.isPerspectiveCamera ) {\n\n\t\t\t\tthis.object.fov = state.arcballState.cameraFov;\n\n\t\t\t}\n\n\t\t\tthis._gizmoMatrixState.fromArray( state.arcballState.gizmoMatrix.elements );\n\t\t\tthis._gizmoMatrixState.decompose( this._gizmos.position, this._gizmos.quaternion, this._gizmos.scale );\n\n\t\t\tthis.object.updateMatrix();\n\t\t\tthis.object.updateProjectionMatrix();\n\n\t\t\tthis._gizmos.updateMatrix();\n\n\t\t\tthis._tbRadius = this.calculateTbRadius( this.object );\n\t\t\tconst gizmoTmp = new Matrix4().copy( this._gizmoMatrixState0 );\n\t\t\tthis.makeGizmos( this._gizmos.position, this._tbRadius );\n\t\t\tthis._gizmoMatrixState0.copy( gizmoTmp );\n\n\t\t\tthis.object.lookAt( this._gizmos.position );\n\t\t\tthis.updateTbState( STATE.IDLE, false );\n\n\t\t\tthis.dispatchEvent( _changeEvent );\n\n\t\t}\n\n\t}\n\n}\n\n//listeners\n\nfunction onWindowResize() {\n\n\tconst scale = ( this._gizmos.scale.x + this._gizmos.scale.y + this._gizmos.scale.z ) / 3;\n\tthis._tbRadius = this.calculateTbRadius( this.object );\n\n\tconst newRadius = this._tbRadius / scale;\n\tconst curve = new EllipseCurve( 0, 0, newRadius, newRadius );\n\tconst points = curve.getPoints( this._curvePts );\n\tconst curveGeometry = new BufferGeometry().setFromPoints( points );\n\n\n\tfor ( const gizmo in this._gizmos.children ) {\n\n\t\tthis._gizmos.children[ gizmo ].geometry = curveGeometry;\n\n\t}\n\n\tthis.dispatchEvent( _changeEvent );\n\n}\n\nfunction onContextMenu( event ) {\n\n\tif ( ! this.enabled ) {\n\n\t\treturn;\n\n\t}\n\n\tfor ( let i = 0; i < this.mouseActions.length; i ++ ) {\n\n\t\tif ( this.mouseActions[ i ].mouse == 2 ) {\n\n\t\t\t//prevent only if button 2 is actually used\n\t\t\tevent.preventDefault();\n\t\t\tbreak;\n\n\t\t}\n\n\t}\n\n}\n\nfunction onPointerCancel() {\n\n\tthis._touchStart.splice( 0, this._touchStart.length );\n\tthis._touchCurrent.splice( 0, this._touchCurrent.length );\n\tthis._input = INPUT.NONE;\n\n}\n\nfunction onPointerDown( event ) {\n\n\tif ( event.button == 0 && event.isPrimary ) {\n\n\t\tthis._downValid = true;\n\t\tthis._downEvents.push( event );\n\t\tthis._downStart = performance.now();\n\n\t} else {\n\n\t\tthis._downValid = false;\n\n\t}\n\n\tif ( event.pointerType == 'touch' && this._input != INPUT.CURSOR ) {\n\n\t\tthis._touchStart.push( event );\n\t\tthis._touchCurrent.push( event );\n\n\t\tswitch ( this._input ) {\n\n\t\t\tcase INPUT.NONE:\n\n\t\t\t\t//singleStart\n\t\t\t\tthis._input = INPUT.ONE_FINGER;\n\t\t\t\tthis.onSinglePanStart( event, 'ROTATE' );\n\n\t\t\t\twindow.addEventListener( 'pointermove', this._onPointerMove );\n\t\t\t\twindow.addEventListener( 'pointerup', this._onPointerUp );\n\n\t\t\t\tbreak;\n\n\t\t\tcase INPUT.ONE_FINGER:\n\t\t\tcase INPUT.ONE_FINGER_SWITCHED:\n\n\t\t\t\t//doubleStart\n\t\t\t\tthis._input = INPUT.TWO_FINGER;\n\n\t\t\t\tthis.onRotateStart();\n\t\t\t\tthis.onPinchStart();\n\t\t\t\tthis.onDoublePanStart();\n\n\t\t\t\tbreak;\n\n\t\t\tcase INPUT.TWO_FINGER:\n\n\t\t\t\t//multipleStart\n\t\t\t\tthis._input = INPUT.MULT_FINGER;\n\t\t\t\tthis.onTriplePanStart( event );\n\t\t\t\tbreak;\n\n\t\t}\n\n\t} else if ( event.pointerType != 'touch' && this._input == INPUT.NONE ) {\n\n\t\tlet modifier = null;\n\n\t\tif ( event.ctrlKey || event.metaKey ) {\n\n\t\t\tmodifier = 'CTRL';\n\n\t\t} else if ( event.shiftKey ) {\n\n\t\t\tmodifier = 'SHIFT';\n\n\t\t}\n\n\t\tthis._mouseOp = this.getOpFromAction( event.button, modifier );\n\t\tif ( this._mouseOp != null ) {\n\n\t\t\twindow.addEventListener( 'pointermove', this._onPointerMove );\n\t\t\twindow.addEventListener( 'pointerup', this._onPointerUp );\n\n\t\t\t//singleStart\n\t\t\tthis._input = INPUT.CURSOR;\n\t\t\tthis._button = event.button;\n\t\t\tthis.onSinglePanStart( event, this._mouseOp );\n\n\t\t}\n\n\t}\n\n}\n\nfunction onPointerMove( event ) {\n\n\tif ( event.pointerType == 'touch' && this._input != INPUT.CURSOR ) {\n\n\t\tswitch ( this._input ) {\n\n\t\t\tcase INPUT.ONE_FINGER:\n\n\t\t\t\t//singleMove\n\t\t\t\tthis.updateTouchEvent( event );\n\n\t\t\t\tthis.onSinglePanMove( event, STATE.ROTATE );\n\t\t\t\tbreak;\n\n\t\t\tcase INPUT.ONE_FINGER_SWITCHED:\n\n\t\t\t\tconst movement = this.calculatePointersDistance( this._touchCurrent[ 0 ], event ) * this._devPxRatio;\n\n\t\t\t\tif ( movement >= this._switchSensibility ) {\n\n\t\t\t\t\t//singleMove\n\t\t\t\t\tthis._input = INPUT.ONE_FINGER;\n\t\t\t\t\tthis.updateTouchEvent( event );\n\n\t\t\t\t\tthis.onSinglePanStart( event, 'ROTATE' );\n\t\t\t\t\tbreak;\n\n\t\t\t\t}\n\n\t\t\t\tbreak;\n\n\t\t\tcase INPUT.TWO_FINGER:\n\n\t\t\t\t//rotate/pan/pinchMove\n\t\t\t\tthis.updateTouchEvent( event );\n\n\t\t\t\tthis.onRotateMove();\n\t\t\t\tthis.onPinchMove();\n\t\t\t\tthis.onDoublePanMove();\n\n\t\t\t\tbreak;\n\n\t\t\tcase INPUT.MULT_FINGER:\n\n\t\t\t\t//multMove\n\t\t\t\tthis.updateTouchEvent( event );\n\n\t\t\t\tthis.onTriplePanMove( event );\n\t\t\t\tbreak;\n\n\t\t}\n\n\t} else if ( event.pointerType != 'touch' && this._input == INPUT.CURSOR ) {\n\n\t\tlet modifier = null;\n\n\t\tif ( event.ctrlKey || event.metaKey ) {\n\n\t\t\tmodifier = 'CTRL';\n\n\t\t} else if ( event.shiftKey ) {\n\n\t\t\tmodifier = 'SHIFT';\n\n\t\t}\n\n\t\tconst mouseOpState = this.getOpStateFromAction( this._button, modifier );\n\n\t\tif ( mouseOpState != null ) {\n\n\t\t\tthis.onSinglePanMove( event, mouseOpState );\n\n\t\t}\n\n\t}\n\n\t//checkDistance\n\tif ( this._downValid ) {\n\n\t\tconst movement = this.calculatePointersDistance( this._downEvents[ this._downEvents.length - 1 ], event ) * this._devPxRatio;\n\t\tif ( movement > this._movementThreshold ) {\n\n\t\t\tthis._downValid = false;\n\n\t\t}\n\n\t}\n\n}\n\nfunction onPointerUp( event ) {\n\n\tif ( event.pointerType == 'touch' && this._input != INPUT.CURSOR ) {\n\n\t\tconst nTouch = this._touchCurrent.length;\n\n\t\tfor ( let i = 0; i < nTouch; i ++ ) {\n\n\t\t\tif ( this._touchCurrent[ i ].pointerId == event.pointerId ) {\n\n\t\t\t\tthis._touchCurrent.splice( i, 1 );\n\t\t\t\tthis._touchStart.splice( i, 1 );\n\t\t\t\tbreak;\n\n\t\t\t}\n\n\t\t}\n\n\t\tswitch ( this._input ) {\n\n\t\t\tcase INPUT.ONE_FINGER:\n\t\t\tcase INPUT.ONE_FINGER_SWITCHED:\n\n\t\t\t\t//singleEnd\n\t\t\t\twindow.removeEventListener( 'pointermove', this._onPointerMove );\n\t\t\t\twindow.removeEventListener( 'pointerup', this._onPointerUp );\n\n\t\t\t\tthis._input = INPUT.NONE;\n\t\t\t\tthis.onSinglePanEnd();\n\n\t\t\t\tbreak;\n\n\t\t\tcase INPUT.TWO_FINGER:\n\n\t\t\t\t//doubleEnd\n\t\t\t\tthis.onDoublePanEnd( event );\n\t\t\t\tthis.onPinchEnd( event );\n\t\t\t\tthis.onRotateEnd( event );\n\n\t\t\t\t//switching to singleStart\n\t\t\t\tthis._input = INPUT.ONE_FINGER_SWITCHED;\n\n\t\t\t\tbreak;\n\n\t\t\tcase INPUT.MULT_FINGER:\n\n\t\t\t\tif ( this._touchCurrent.length == 0 ) {\n\n\t\t\t\t\twindow.removeEventListener( 'pointermove', this._onPointerMove );\n\t\t\t\t\twindow.removeEventListener( 'pointerup', this._onPointerUp );\n\n\t\t\t\t\t//multCancel\n\t\t\t\t\tthis._input = INPUT.NONE;\n\t\t\t\t\tthis.onTriplePanEnd();\n\n\t\t\t\t}\n\n\t\t\t\tbreak;\n\n\t\t}\n\n\t} else if ( event.pointerType != 'touch' && this._input == INPUT.CURSOR ) {\n\n\t\twindow.removeEventListener( 'pointermove', this._onPointerMove );\n\t\twindow.removeEventListener( 'pointerup', this._onPointerUp );\n\n\t\tthis._input = INPUT.NONE;\n\t\tthis.onSinglePanEnd();\n\t\tthis._button = - 1;\n\n\t}\n\n\tif ( event.isPrimary ) {\n\n\t\tif ( this._downValid ) {\n\n\t\t\tconst downTime = event.timeStamp - this._downEvents[ this._downEvents.length - 1 ].timeStamp;\n\n\t\t\tif ( downTime <= this._maxDownTime ) {\n\n\t\t\t\tif ( this._nclicks == 0 ) {\n\n\t\t\t\t\t//first valid click detected\n\t\t\t\t\tthis._nclicks = 1;\n\t\t\t\t\tthis._clickStart = performance.now();\n\n\t\t\t\t} else {\n\n\t\t\t\t\tconst clickInterval = event.timeStamp - this._clickStart;\n\t\t\t\t\tconst movement = this.calculatePointersDistance( this._downEvents[ 1 ], this._downEvents[ 0 ] ) * this._devPxRatio;\n\n\t\t\t\t\tif ( clickInterval <= this._maxInterval && movement <= this._posThreshold ) {\n\n\t\t\t\t\t\t//second valid click detected\n\t\t\t\t\t\t//fire double tap and reset values\n\t\t\t\t\t\tthis._nclicks = 0;\n\t\t\t\t\t\tthis._downEvents.splice( 0, this._downEvents.length );\n\t\t\t\t\t\tthis.onDoubleTap( event );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\t//new 'first click'\n\t\t\t\t\t\tthis._nclicks = 1;\n\t\t\t\t\t\tthis._downEvents.shift();\n\t\t\t\t\t\tthis._clickStart = performance.now();\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\tthis._downValid = false;\n\t\t\t\tthis._nclicks = 0;\n\t\t\t\tthis._downEvents.splice( 0, this._downEvents.length );\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tthis._nclicks = 0;\n\t\t\tthis._downEvents.splice( 0, this._downEvents.length );\n\n\t\t}\n\n\t}\n\n}\n\nfunction onWheel( event ) {\n\n\tif ( this.enabled && this.enableZoom ) {\n\n\t\tlet modifier = null;\n\n\t\tif ( event.ctrlKey || event.metaKey ) {\n\n\t\t\tmodifier = 'CTRL';\n\n\t\t} else if ( event.shiftKey ) {\n\n\t\t\tmodifier = 'SHIFT';\n\n\t\t}\n\n\t\tconst mouseOp = this.getOpFromAction( 'WHEEL', modifier );\n\n\t\tif ( mouseOp != null ) {\n\n\t\t\tevent.preventDefault();\n\t\t\tthis.dispatchEvent( _startEvent );\n\n\t\t\tconst notchDeltaY = 125; //distance of one notch of mouse wheel\n\t\t\tlet sgn = event.deltaY / notchDeltaY;\n\n\t\t\tlet size = 1;\n\n\t\t\tif ( sgn > 0 ) {\n\n\t\t\t\tsize = 1 / this.scaleFactor;\n\n\t\t\t} else if ( sgn < 0 ) {\n\n\t\t\t\tsize = this.scaleFactor;\n\n\t\t\t}\n\n\t\t\tswitch ( mouseOp ) {\n\n\t\t\t\tcase 'ZOOM':\n\n\t\t\t\t\tthis.updateTbState( STATE.SCALE, true );\n\n\t\t\t\t\tif ( sgn > 0 ) {\n\n\t\t\t\t\t\tsize = 1 / ( Math.pow( this.scaleFactor, sgn ) );\n\n\t\t\t\t\t} else if ( sgn < 0 ) {\n\n\t\t\t\t\t\tsize = Math.pow( this.scaleFactor, - sgn );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( this.cursorZoom && this.enablePan ) {\n\n\t\t\t\t\t\tlet scalePoint;\n\n\t\t\t\t\t\tif ( this.object.isOrthographicCamera ) {\n\n\t\t\t\t\t\t\tscalePoint = this.unprojectOnTbPlane( this.object, event.clientX, event.clientY, this.domElement ).applyQuaternion( this.object.quaternion ).multiplyScalar( 1 / this.object.zoom ).add( this._gizmos.position );\n\n\t\t\t\t\t\t} else if ( this.object.isPerspectiveCamera ) {\n\n\t\t\t\t\t\t\tscalePoint = this.unprojectOnTbPlane( this.object, event.clientX, event.clientY, this.domElement ).applyQuaternion( this.object.quaternion ).add( this._gizmos.position );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tthis.applyTransformMatrix( this.scale( size, scalePoint ) );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tthis.applyTransformMatrix( this.scale( size, this._gizmos.position ) );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( this._grid != null ) {\n\n\t\t\t\t\t\tthis.disposeGrid();\n\t\t\t\t\t\tthis.drawGrid();\n\n\t\t\t\t\t}\n\n\t\t\t\t\tthis.updateTbState( STATE.IDLE, false );\n\n\t\t\t\t\tthis.dispatchEvent( _changeEvent );\n\t\t\t\t\tthis.dispatchEvent( _endEvent );\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'FOV':\n\n\t\t\t\t\tif ( this.object.isPerspectiveCamera ) {\n\n\t\t\t\t\t\tthis.updateTbState( STATE.FOV, true );\n\n\n\t\t\t\t\t\t//Vertigo effect\n\n\t\t\t\t\t\t//\t  fov / 2\n\t\t\t\t\t\t//\t\t|\\\n\t\t\t\t\t\t//\t\t| \\\n\t\t\t\t\t\t//\t\t|  \\\n\t\t\t\t\t\t//\tx\t|\t\\\n\t\t\t\t\t\t//\t\t| \t \\\n\t\t\t\t\t\t//\t\t| \t  \\\n\t\t\t\t\t\t//\t\t| _ _ _\\\n\t\t\t\t\t\t//\t\t\ty\n\n\t\t\t\t\t\t//check for iOs shift shortcut\n\t\t\t\t\t\tif ( event.deltaX != 0 ) {\n\n\t\t\t\t\t\t\tsgn = event.deltaX / notchDeltaY;\n\n\t\t\t\t\t\t\tsize = 1;\n\n\t\t\t\t\t\t\tif ( sgn > 0 ) {\n\n\t\t\t\t\t\t\t\tsize = 1 / ( Math.pow( this.scaleFactor, sgn ) );\n\n\t\t\t\t\t\t\t} else if ( sgn < 0 ) {\n\n\t\t\t\t\t\t\t\tsize = Math.pow( this.scaleFactor, - sgn );\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tthis._v3_1.setFromMatrixPosition( this._cameraMatrixState );\n\t\t\t\t\t\tconst x = this._v3_1.distanceTo( this._gizmos.position );\n\t\t\t\t\t\tlet xNew = x / size;\t//distance between camera and gizmos if scale(size, scalepoint) would be performed\n\n\t\t\t\t\t\t//check min and max distance\n\t\t\t\t\t\txNew = MathUtils.clamp( xNew, this.minDistance, this.maxDistance );\n\n\t\t\t\t\t\tconst y = x * Math.tan( MathUtils.DEG2RAD * this.object.fov * 0.5 );\n\n\t\t\t\t\t\t//calculate new fov\n\t\t\t\t\t\tlet newFov = MathUtils.RAD2DEG * ( Math.atan( y / xNew ) * 2 );\n\n\t\t\t\t\t\t//check min and max fov\n\t\t\t\t\t\tif ( newFov > this.maxFov ) {\n\n\t\t\t\t\t\t\tnewFov = this.maxFov;\n\n\t\t\t\t\t\t} else if ( newFov < this.minFov ) {\n\n\t\t\t\t\t\t\tnewFov = this.minFov;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tconst newDistance = y / Math.tan( MathUtils.DEG2RAD * ( newFov / 2 ) );\n\t\t\t\t\t\tsize = x / newDistance;\n\n\t\t\t\t\t\tthis.setFov( newFov );\n\t\t\t\t\t\tthis.applyTransformMatrix( this.scale( size, this._gizmos.position, false ) );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( this._grid != null ) {\n\n\t\t\t\t\t\tthis.disposeGrid();\n\t\t\t\t\t\tthis.drawGrid();\n\n\t\t\t\t\t}\n\n\t\t\t\t\tthis.updateTbState( STATE.IDLE, false );\n\n\t\t\t\t\tthis.dispatchEvent( _changeEvent );\n\t\t\t\t\tthis.dispatchEvent( _endEvent );\n\n\t\t\t\t\tbreak;\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n}\n\nexport { ArcballControls };\n",null,"function styleInject(css, ref) {\n  if ( ref === void 0 ) ref = {};\n  var insertAt = ref.insertAt;\n\n  if (!css || typeof document === 'undefined') { return; }\n\n  var head = document.head || document.getElementsByTagName('head')[0];\n  var style = document.createElement('style');\n  style.type = 'text/css';\n\n  if (insertAt === 'top') {\n    if (head.firstChild) {\n      head.insertBefore(style, head.firstChild);\n    } else {\n      head.appendChild(style);\n    }\n  } else {\n    head.appendChild(style);\n  }\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    style.appendChild(document.createTextNode(css));\n  }\n}\n\nexport default styleInject;\n",null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],"names":["STATE","IDLE","Symbol","ROTATE","PAN","SCALE","FOV","FOCUS","ZROTATE","TOUCH_MULTI","ANIMATION_FOCUS","ANIMATION_ROTATE","INPUT","NONE","ONE_FINGER","ONE_FINGER_SWITCHED","TWO_FINGER","MULT_FINGER","CURSOR","_center","x","y","_transformation","camera","Matrix4","gizmos","_changeEvent","type","_startEvent","_endEvent","_raycaster","Raycaster","_offset","Vector3","_gizmoMatrixStateTemp","_cameraMatrixStateTemp","_scalePointTemp","_EPS","ArcballControls","Controls","constructor","domElement","scene","super","this","target","_currentTarget","radiusFactor","mouseActions","_mouseOp","_v2_1","Vector2","_v3_1","_v3_2","_m4_1","_m4_2","_quat","Quaternion","_translationMatrix","_rotationMatrix","_scaleMatrix","_rotationAxis","_cameraMatrixState","_cameraProjectionState","_fovState","_upState","_zoomState","_nearPos","_farPos","_gizmoMatrixState","_up0","_zoom0","_fov0","_initialNear","_nearPos0","_initialFar","_farPos0","_cameraMatrixState0","_gizmoMatrixState0","_target0","_button","_touchStart","_touchCurrent","_input","_switchSensibility","_startFingerDistance","_currentFingerDistance","_startFingerRotation","_currentFingerRotation","_devPxRatio","_downValid","_nclicks","_downEvents","_downStart","_clickStart","_maxDownTime","_maxInterval","_posThreshold","_movementThreshold","_currentCursorPosition","_startCursorPosition","_grid","_gridPosition","_gizmos","Group","_curvePts","_timeStart","_animationId","focusAnimationTime","_timePrev","_timeCurrent","_anglePrev","_angleCurrent","_cursorPosPrev","_cursorPosCurr","_wPrev","_wCurr","adjustNearFar","scaleFactor","dampingFactor","wMax","enableAnimations","enableGrid","cursorZoom","minFov","maxFov","rotateSpeed","enablePan","enableRotate","enableZoom","enableGizmos","enableFocus","minDistance","maxDistance","Infinity","minZoom","maxZoom","_tbRadius","_state","setCamera","add","initializeMouseActions","_onContextMenu","onContextMenu","bind","_onWheel","onWheel","_onPointerUp","onPointerUp","_onPointerMove","onPointerMove","_onPointerDown","onPointerDown","_onPointerCancel","onPointerCancel","_onWindowResize","onWindowResize","connect","element","style","touchAction","window","devicePixelRatio","addEventListener","passive","disconnect","removeEventListener","onSinglePanStart","event","operation","enabled","dispatchEvent","setCenter","clientX","clientY","cancelAnimationFrame","activateGizmos","updateTbState","copy","unprojectOnTbPlane","object","drawGrid","unprojectOnTbSurface","performance","now","isPerspectiveCamera","setY","getCursorNDC","onSinglePanMove","opState","restart","applyTransformMatrix","pan","disposeGrid","distance","distanceTo","angle","angleTo","amount","Math","max","rotate","calculateRotationAxis","calculateAngularSpeed","screenNotches","movement","size","pow","setFromMatrixPosition","scale","position","xNew","MathUtils","clamp","tan","DEG2RAD","newFov","RAD2DEG","atan","newDistance","setFov","sub","normalize","multiplyScalar","makeTranslation","z","onSinglePanEnd","w","abs","self","requestAnimationFrame","t","rotationAxis","onRotationAnim","min","onDoubleTap","hitP","unprojectOnObj","onFocusAnim","focus","onDoublePanStart","onDoublePanMove","onDoublePanEnd","onRotateStart","getAngle","getWorldDirection","onRotateMove","rotationPoint","applyQuaternion","quaternion","zoom","zRotate","onRotateEnd","onPinchStart","calculatePointersDistance","onPinchMove","scalePoint","isOrthographicCamera","onPinchEnd","onTriplePanStart","nFingers","length","i","onTriplePanMove","onTriplePanEnd","setMouseAction","compareMouseAction","action1","action2","mouse","key","state","includes","action","splice","push","unsetMouseAction","getOpFromAction","getOpStateFromAction","p1","p2","atan2","PI","updateTouchEvent","pointerId","transformation","premultiply","decompose","updateMatrix","up","calculateTbRadius","cameraDistance","bb","Box3","setFromObject","sphere","Sphere","getBoundingSphere","adjustedNearPosition","radius","center","regularNearPosition","minNearPos","near","adjustedFarPosition","regularFarPosition","minFarPos","far","updateProjectionMatrix","update","p0","t0","t1","sqrt","vec1","vec2","extractRotation","setFromRotationMatrix","crossVectors","clone","halfFovV","fov","halfFovH","top","right","point","color","multiplier","divisions","maxLength","tick","width","left","height","bottom","GridHelper","rotateX","dispose","remove","easeOutCubic","isActive","gizmoX","children","gizmoY","gizmoZ","material","setValues","opacity","cursorX","cursorY","canvas","canvasRect","getBoundingClientRect","setX","getCursorPosition","lookAt","matrix","projectionMatrix","makeGizmos","setGizmosVisible","value","visible","setTbRadius","points","EllipseCurve","getPoints","curveGeometry","BufferGeometry","setFromPoints","gizmo","geometry","tbCenter","tbRadius","curveMaterialX","LineBasicMaterial","fog","transparent","curveMaterialY","curveMaterialZ","Line","rotation","identity","setPosition","makeScale","traverse","isLine","clear","time","cameraMatrix","gizmoMatrix","animTime","w0","deltaTime","adjust","distanceFactor","set","setTransformationMatrices","reset","axis","makeRotationAxis","multiply","copyState","JSON","stringify","arcballState","cameraFar","cameraNear","cameraUp","cameraZoom","cameraFov","navigator","clipboard","writeText","pasteState","readText","then","setStateFromJSON","saveState","scaleGizmos","sizeInverse","pos","applyAxisAngle","getRaycaster","cursor","raycaster","setFromCamera","intersect","intersectObjects","uuid","face","x2","y2","r2","setZ","applyMatrix4","projectionMatrixInverse","rayDir","cameraGizmoDistance","radius2","h","l","m","q","a","b","c","delta","rayLength","initialDistance","updateMatrixState","newState","updateMatrices","equals","newZoom","oldRadius","newRadius","json","parse","undefined","fromArray","elements","gizmoTmp","preventDefault","button","isPrimary","pointerType","modifier","ctrlKey","metaKey","shiftKey","mouseOpState","nTouch","timeStamp","clickInterval","shift","mouseOp","notchDeltaY","sgn","deltaY","deltaX","ExplosionMode","css","ref","insertAt","document","head","getElementsByTagName","createElement","firstChild","insertBefore","appendChild","styleSheet","cssText","createTextNode","EXPLODER_CONSTANTS","PROGRESS","DEFAULT","MIN","MAX","STEP","MULTIPLIER","EXPOSURE","DEFAULT_DURATION","DEFAULT_MAX_DISTANCE","DEFAULT_ADAPT_SIZE","WEIGHTS","BASE","FORCE_FIELD_OFFSET","LIGHTS","SCENE","AMBIENT","HEMISPHERE","MAIN_DIRECTIONAL","BACK_DIRECTIONAL","SIDE_DIRECTIONAL","INTERNAL","DIRECTIONAL","INTERACTION","HIGHLIGHT_COLOR","HOVER_OPACITY","SELECT_OPACITY","EMISSIVE_INTENSITY","DIRECTION","MIN_LENGTH","ANGLE_FACTOR","Z_FACTOR","INDEX_ANGLE","XY_OFFSET","Z_OFFSET","createTextSprite","text","ctx","getContext","beginPath","arc","fillStyle","fill","font","textAlign","textBaseline","fillText","texture","CanvasTexture","SpriteMaterial","map","sprite","Sprite","calculateDirection","objectPosition","getWorldPosition","direction","subVectors","hash","str","charCodeAt","hashString","cos","sin","parent","index","indexOf","calculateFaceCount","model","count","child","isMesh","attributes","floor","getFileName","path","parts","split","isMobile","test","userAgent","innerWidth","ExploderCore","renderer","options","progress","mode","RADIAL","originalPositions","Map","originalRotations","originalScales","explodeDirections","axialDistances","sizeWeights","hierarchicalDepths","modelRadius","visualScale","onProgressChangeCallback","explodableMeshes","internalLights","duration","createUI","viewport","body","uiStyle","directionStrategy","axialVector","adaptModel","modelUrl","showUpload","showHelpers","showPanel","showProgress","wheelControlExplosion","models","initialModel","adaptModelToScene","box","modelCenter","getCenter","saveOriginalTransforms","setupInternalLighting","getSize","maxDim","newCenter","ambientLight","AmbientLight","hemisphereLight","HemisphereLight","lightGroup","Object3D","light","DirectionalLight","fillLightIntensity","topRightFill","fillTarget","setInternalLightingVisible","forEach","render","setInternalLightingExposure","exposure","intensity","calculateAxialDistances","axialDir","dot","axialSize","mesh","originalPosition","get","dist","traverseAndSave","calculateSizeWeights","calculateHierarchicalDepths","maxDepth","depths","depth","maxVolume","volumes","Mesh","boundingBox","computeBoundingBox","volume","vol","setModel","updateInternalLighting","lightDist","directions","dirLights","filter","setProgress","updateExplodedPositions","baseDistance","targetWorldPosition","AXIAL","axialDistance","NORMALIZED_RADIAL","relativePos","SIZE_WEIGHTED","weight","HIERARCHICAL","depthWeight","FORCE_FIELD","originalPos","forceMagnitude","worldToLocal","setMode","getMode","setAxialVector","vector","getAxialVector","resetToOriginalPositions","originalRotation","originalScale","targetPosition","setProgressChangeCallback","callback","setMultiplier","getMultiplier","getProgress","getModelCenter","getOptions","getVisualScale","InteractionManager","mouseDownPos","dragThreshold","gridHelper","axesHelper","axisLabels","selectedMesh","isolatedMesh","originalMaterialState","onSelect","onFitToView","longPressTimer","longPressDuration","isLongPressTriggered","lastTouchTime","onMouseDown","onClick","onDoubleClick","onMouseMove","onTouchStart","onTouchMove","onTouchEnd","initEventListeners","initHelpers","setOnSelect","setOnFitToView","setOnContextMenu","setEnabled","AxesHelper","labelX","labelY","labelZ","setHelperVisibility","e","Date","touches","cancelable","touch","clearLongPressTimer","setTimeout","handleLongPress","changedTouches","handleSelectAt","rect","meshIntersect","find","obj","isGloballyVisible","selectMesh","deselectMesh","clearTimeout","targetMesh","isolateMesh","showAllMeshes","visibleMeshes","toggleMeshVisibility","hideMesh","hasHiddenMeshes","hasHidden","current","highlightMesh","getSelectedMesh","restoreMesh","key0","has","Array","isArray","mat","MeshStandardMaterial","emissive","emissiveIntensity","original","delete","label","smoothStep","roundedRectSDF","qx","qy","LiquidGlass","targetElement","mouseUsed","canvasDPI","id","random","toString","substr","fragment","uv","ix","iy","displacement","scaled","init","svg","createElementNS","setAttribute","defs","feImage","feDisplacementMap","context","updateSize","backdropFilter","webkitBackdropFilter","mouseProxy","Proxy","prop","data","Uint8ClampedArray","maxScale","rawValues","dx","dy","r","g","putImageData","ImageData","setAttributeNS","toDataURL","ExploderPanel","container","onMultiplierChange","onExposureChange","onModeChange","onAxialChange","onModelChange","onHelperVisibilityChange","onReset","initialMultiplier","initialExposure","initialMode","initialAxial","initialHelperVisible","modeButtons","styles","section","sectionHeader","title","labelContainer","slider","hint","grid","select","buttonReset","buttonResetHover","buttonResetActive","zoomContainer","zoomButton","zoomButtonHover","zoomButtonActive","className","applyStyle","header","innerHTML","contentWrapper","hasModels","modelSection","createSection","modelSelect","option","modelPath","textContent","pop","selected","uploadBtn","fileInput","querySelector","onclick","click","onchange","file","files","url","URL","createObjectURL","multiplierSection","multiplierLabelWrap","createLabelWrapper","multiplierDisplay","toFixed","multiplierSlider","step","exposureSection","exposureLabelWrap","exposureDisplay","exposureSlider","modeSection","modeGrid","icon","btn","handleModeClick","axialContainer","axialSelect","v","opt","helperSection","helperRow","helperToggle","checked","accentColor","helperText","footer","resetButton","onmouseenter","onmouseleave","onmousedown","onmouseup","oninput","parseFloat","updateMultiplier","updateExposure","Number","liquidGlass","offsetHeight","ResizeObserver","observe","sec","hintEl","wrap","updateMode","el","existing","getAttribute","show","display","hide","_progress","classList","updateHelperVisibility","updateAxialVector","parentNode","removeChild","ExploderHUD","onProgressChange","initialProgress","onMeasureToggle","isMeasureActive","card","progressContainer","valueDisplay","round","divider","matchMedia","matches","measureButton","updateMeasureButtonStyle","transform","background","setMeasureActive","active","old","ExploderInfoHUD","initialModelName","initialFaceCount","nameCard","content","modelNameDisplay","faceCountDisplay","toLocaleString","statusLabel","statusText","liquidGlass1","liquidGlass2","name","faceCount","setModelName","setFaceCount","OctreeNode","bounds","isLeaf","subdivide","Octree","maxPointsPerNode","root","insert","insertIntoNode","node","octreeData","containsPoint","findNearest","results","radiusSq","searchNode","sort","distanceToSquared","closestPoint","clampPoint","fromPositions","positions","vertex","expandByPoint","expansion","expandByScalar","octree","getStats","stats","totalNodes","leafNodes","totalPoints","SnapMode","MeasurementType","DEFAULT_MEASUREMENT_CONFIG","snapRadius","edgeThreshold","unit","snapModes","VERTEX","EDGE","FACE","pinColor","lineWidth","lineColor","labelBgColor","modelScale","SnapDetector","snapToVertex","mousePos","radiusWorld","radiusScreen","rayOrigin","ray","origin","nearbyVertices","closestVertex","minScreenDist","screenDist","getScreenDistance","snapToEdge","edges","thresholdScreen","closestEdge","edge","line","Line3","start","end","pointOnLine","closestPointToPoint","snapToFace","intersects","intersection","faceIndex","detectHoles","holes","indices","array","edgeMap","i0","i1","i2","entries","getX","getY","getZ","extractEdges","edgeSet","Set","edgePairs","worldPos","screenPos","project","MeasurementFormatter","formatLength","currentUnit","LINEAR","isApproximate","distanceMm","fractionDigits","targetUnit","MM_TO_M_THRESHOLD","M_TO_MM_THRESHOLD","prefix","DIAMETER","RADIUS","formatAngle","angleDeg","MeasurementTool","_scene","config","holeEdges","targetMeshes","point1","point2","snapDetector","enableMeasurement","onMeasureStartCallback","disableMeasurement","isEnabled","setSnapMode","modes","setUnit","getConfig","updateConfig","getDistance","formatDistance","physicalDistance","result","setPoint1","setPoint2","format","formattedDistance","onMeasureCompleteCallback","detectSnap","HOLE_EDGE","snapToHoleEdge","onSnapDetectedCallback","onMeasureStart","onMeasureComplete","onSnapDetected","buildSnapStructures","allWorldVertices","updateMatrixWorld","matrixWorld","localEdges","startWorld","endWorld","localHoleEdges","calculateBoundingBox","vInfo","console","log","bbox","p","renderMeasurement","_result","ExploderMeasurement","onActiveChange","measurements","currentPinA","currentPoint1","clickCount","currentSnap","lastMouseMoveUpdateTime","lastStaticUpdateTime","THROTTLE_MS","previewLabel","currentPreviewUnit","measurementTool","previewDot","createPreviewDot","previewLine","createPreviewLabel","boundMouseMove","handleMouseMove","boundMouseDown","handleMouseDown","boundMouseClick","handleMouseClick","setupMeasurementCallbacks","snap","tagName","contains","updatePreviewDotPosition","shouldUpdateValue","updateLineElement","updateLabelContent","updateLabelPosition","createPin","updatePinPosition3D","pinB","createCompactLabel","measurement","pinA","worldDistance","pin","setModelScale","valueStr","valueWrapper","prefixEl","unitEl","deleteBtn","paddingRight","stopPropagation","deleteMeasurement","valueEl","startScreen","endScreen","x1","y1","transformOrigin","shouldUpdateStatic","midX","midY","offsetY","resetCurrentMeasurement","toggle","clearAll","CompositeUI","onMeasureActiveChange","modelName","panel","hud","toggleMeasurement","infoHUD","createScrollGuide","updateResponsiveState","resizeHandler","scrollGuide","innerText","updateModelScale","updateModel","updateInfo","Error","getContainer","HTMLElement","getComputedStyle","ExploderZoomControls","controls","zoomStep","zoomInBtn","zoomOutBtn","applyLiquidGlass","addHoverEffects","factor","currentStyle","replace","ExploderContextMenu","_container","onHide","onShowAll","menu","createMenu","mobile","Object","assign","zIndex","backgroundColor","WebkitBackdropFilter","border","borderRadius","padding","boxShadow","minWidth","fontSize","userSelect","overflow","transition","showHide","createItem","showShowAll","viewWidth","viewHeight","innerHeight","menuRect","item","itemIcon","alignItems","margin","fontWeight","setOnHide","setOnShowAll","parentElement","GLTFExploder","arg1","core","ui","zoomControls","interactionManager","contextMenu","boundOnWheel","initCore","initializeAutoMode","containerElement","warn","applyContainerStyles","Scene","Color","PerspectiveCamera","clientWidth","clientHeight","WebGLRenderer","antialias","alpha","logarithmicDepthBuffer","setSize","setPixelRatio","toneMapping","ACESFilmicToneMapping","toneMappingExposure","shadowMap","cameraLightGroup","mainSun","castShadow","mainTarget","fillLight","extraFillLight","extraTarget","finalUrl","GLTFLoader","load","gltf","loadedModel","receiveShadow","animate","onResize","aspect","initialHelperVisibility","handleHelperVisibilityChange","meshes","fitToView","setExposure","handleModelChange","currentProgress","newProgress","onModelChangeCallback","loadModelAuto","oldModel","newModel","startsWith","revokeObjectURL","onHelperVisibilityChangeCallback","setModelChangeCallback","setHelperVisibilityChangeCallback","overrideMeshes","expandByObject","getBoundingBox","fovRad","widthDist","getInteractionManager","showUI","hideUI","webkitUserSelect","msUserSelect","webkitTouchCallout","webkitTapHighlightColor","oncontextmenu"],"mappings":"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"}